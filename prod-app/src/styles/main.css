/* S4 Ledger — Main Stylesheet
   Extracted from monolith lines 69-1342
   1272 lines */

        :root{--bg:#000000;--surface:#0a0a0a;--card:#111111;--border:rgba(255,255,255,0.08);--border-hover:rgba(255,255,255,0.15);--accent:#00aaff;--gold:#c9a84c;--steel:#86868b;--green:#30d158;--red:#ff453a;--text:#f5f5f7;--muted:#6e6e73;--text-muted:#6e6e73;--radius:3px;--radius-lg:4px;--transition:0.3s cubic-bezier(0.25,0.1,0.25,1)}
        /* ── Light Mode Theme ── */
        body.light-mode{--bg:#f5f5f7;--surface:#ffffff;--card:#ffffff;--border:rgba(0,0,0,0.08);--border-hover:rgba(0,0,0,0.15);--accent:#0077cc;--steel:#555555;--text:#1d1d1f;--muted:#86868b;--text-muted:#86868b}
        body.light-mode .navbar-custom,body.light-mode nav{background:rgba(255,255,255,0.92)!important;backdrop-filter:blur(20px);border-bottom:1px solid rgba(0,0,0,0.06)!important}
        body.light-mode .s4-card,body.light-mode .stat-card{background:#fff;border-color:rgba(0,0,0,0.08);box-shadow:0 1px 3px rgba(0,0,0,0.06)}
        body.light-mode .dropdown-menu{background:rgba(255,255,255,0.98)!important;border-color:rgba(0,0,0,0.08)!important}
        body.light-mode .dropdown-item{color:#1d1d1f!important}
        body.light-mode .dropdown-item:hover{background:rgba(0,0,0,0.04)!important}
        body.light-mode .nav-pills .nav-link{color:#555!important}
        body.light-mode .nav-pills .nav-link.active{background:var(--accent)!important;color:#fff!important}
        body.light-mode .tab-pane{color:#1d1d1f}
        body.light-mode input,body.light-mode select,body.light-mode textarea,body.light-mode .form-control,body.light-mode .form-select{background:#f8f8fa!important;color:#1d1d1f!important;border-color:rgba(0,0,0,0.18)!important}
        body.light-mode input::placeholder,body.light-mode textarea::placeholder,body.light-mode .form-control::placeholder{color:rgba(0,0,0,0.4)!important;opacity:1!important}
        body.light-mode .btn-accent{background:var(--accent);color:#fff}
        body.light-mode .result-panel{background:#f8f8fa;border-color:rgba(0,0,0,0.08);color:#1d1d1f}
        body.light-mode code,body.light-mode .hash-display{background:rgba(0,0,0,0.04);color:#1d1d1f}
        body.light-mode .ai-chat-container,body.light-mode .ai-float-panel{background:#fff;border-color:rgba(0,0,0,0.1)}
        body.light-mode .ai-msg.bot .ai-bubble{background:#f0f0f5;color:#1d1d1f}
        body.light-mode .ils-hub-tab{color:#555}
        body.light-mode .ils-hub-tab.active{background:var(--accent)!important;color:#fff!important}
        body.light-mode .ils-hub-tabs{background:#f8f8fa;border-color:rgba(0,0,0,0.06)}
        body.light-mode .branch-tab{background:#f0f0f5;color:#555;border-color:rgba(0,0,0,0.08)}
        body.light-mode .branch-tab.active{background:var(--accent);color:#fff}
        body.light-mode table th{background:#f0f0f5!important;color:#555!important}
        body.light-mode table td{color:#1d1d1f;border-color:rgba(0,0,0,0.06)!important}
        body.light-mode .onboard-modal{background:#fff;border-color:rgba(0,0,0,0.1);color:#1d1d1f}
        body.light-mode .onboard-tier{background:#f8f8fa;border-color:rgba(0,0,0,0.08)}
        body.light-mode .modal-box{background:#fff;border-color:rgba(0,0,0,0.1);color:#1d1d1f}
        body.light-mode .footer{background:#f0f0f5!important;border-color:rgba(0,0,0,0.06)!important}
        body.light-mode .footer *{color:#555!important}
        body.light-mode .footer a:hover{color:var(--accent)!important}
        body.light-mode .s4-toast{background:#fff;border-color:rgba(0,0,0,0.08);color:#1d1d1f}
        body.light-mode .action-tracker{background:#fff;border-color:rgba(0,0,0,0.08)}
        body.light-mode .action-item{background:#f8f8fa;border-color:rgba(0,0,0,0.06)}
        body.light-mode .ai-title{color:#1d1d1f}
        body.light-mode .ai-body{color:#1d1d1f}
        body.light-mode .ai-meta{color:#555}
        body.light-mode .ai-meta span{color:#555}
        body.light-mode .ai-check{border-color:rgba(0,0,0,0.15)}
        body.light-mode .stat-mini{background:#f8f8fa;border-color:rgba(0,0,0,0.06)}
        body.light-mode .stat-mini-label{color:#555}
        body.light-mode #slsBalanceBar{background:rgba(255,255,255,0.95)!important;border-color:rgba(0,0,0,0.06)!important}
        body.light-mode .clf-banner{color:#1d1d1f}
        body.light-mode .record-type-btn{background:#f0f0f5;color:#555;border-color:rgba(0,0,0,0.08)}
        body.light-mode .record-type-btn.active{background:var(--accent);color:#fff}
        body.light-mode .data-table{border-color:rgba(0,0,0,0.08)}
        body.light-mode .data-table thead th{background:#f0f0f5;color:#555;border-color:rgba(0,0,0,0.06)}
        body.light-mode .data-table tbody td{color:#1d1d1f;border-color:rgba(0,0,0,0.04)}
        body.light-mode .severity-badge{opacity:0.9}
        body.light-mode .progress-bar-container{background:#f0f0f5;border-color:rgba(0,0,0,0.06)}
        body.light-mode .ils-dropzone{background:rgba(0,119,204,0.03);border-color:rgba(0,119,204,0.2)}
        body.light-mode strong{color:#1d1d1f}
        /* Light mode toggle button */
        .theme-toggle{background:none;border:1px solid rgba(255,255,255,0.15);color:rgba(255,255,255,0.7);border-radius:3px;padding:0.4rem 0.6rem;font-size:0.8rem;cursor:pointer;transition:all 0.2s;display:inline-flex;align-items:center;gap:4px}
        .theme-toggle:hover{border-color:rgba(255,255,255,0.3);color:#fff}
        body.light-mode .theme-toggle{border-color:rgba(0,0,0,0.15);color:#555}
        body.light-mode .theme-toggle:hover{border-color:rgba(0,0,0,0.3);color:#1d1d1f}
        body.light-mode [style*="color:#fff"],body.light-mode [style*="color: #fff"],body.light-mode [style*="color:#ffffff"],body.light-mode [style*="color: #ffffff"]{color:#1d1d1f!important}
        body.light-mode [style*="color:rgba(255,255,255"],body.light-mode [style*="color: rgba(255,255,255"]{color:#1d1d1f!important}
        body.light-mode [style*="background:#0a0e1a"],body.light-mode [style*="background: #0a0e1a"]{background:#f0f0f5!important}
        body.light-mode [style*="background:#050810"],body.light-mode [style*="background: #050810"]{background:#f0f0f5!important}
        body.light-mode [style*="background:rgba(5,8,16"],body.light-mode [style*="background: rgba(5,8,16"]{background:rgba(240,240,245,0.98)!important}
        body.light-mode [style*="background:rgba(0,0,0,0.9"],body.light-mode [style*="background: rgba(0,0,0,0.9"]{background:rgba(240,240,245,0.97)!important}
        body.light-mode [style*="background:rgba(0,0,0,0.8"],body.light-mode [style*="background: rgba(0,0,0,0.8"]{background:rgba(240,240,245,0.95)!important}
        body.light-mode [style*="background:rgba(0,0,0,0.7"],body.light-mode [style*="background: rgba(0,0,0,0.7"]{background:rgba(230,230,235,0.95)!important}
        *{box-sizing:border-box;margin:0;padding:0}
        body{font-family:'Inter',-apple-system,BlinkMacSystemFont,'Segoe UI',sans-serif;background:var(--bg);color:var(--text);min-height:100vh;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;line-height:1.6;overflow-x:hidden}
        .navbar-custom{display:none}
        .navbar-brand{font-weight:700;display:flex;align-items:center;gap:10px;text-decoration:none}
        .brand-text{color:#fff;font-size:1.2rem;letter-spacing:0.5px;font-weight:700}
        .nav-link{color:#fff!important;padding:8px 12px!important;font-size:0.9rem!important;font-weight:500;transition:color 0.2s}
        .nav-link:hover,.nav-link.active{color:var(--accent)!important}
        .dropdown-menu{background:rgba(10,10,15,0.98)!important;border:1px solid rgba(255,255,255,0.08)!important;border-radius:3px;padding:8px 0}
        .dropdown-item{color:var(--steel)!important;padding:8px 18px;font-size:0.875rem;transition:all 0.2s}
        .dropdown-item:hover,.dropdown-item:focus{background:rgba(0,170,255,0.08)!important;color:var(--accent)!important}
        .dropdown-item i{width:18px;margin-right:6px;display:inline-block;text-align:center}
        .dd-accent{color:var(--accent)}.dd-gold{color:var(--gold)}.dd-green{color:var(--green)}.dd-purple{color:#00aaff}.dd-orange{color:#ffa500}
        .btn-accent{background:var(--accent);color:#fff;border:none;padding:10px 24px;border-radius:3px;font-weight:600;cursor:pointer;display:inline-block;transition:all 0.2s;font-size:0.9rem;text-decoration:none}
        .btn-accent:hover{background:#0099ee;color:#fff}
        .search-btn{background:none;border:none;cursor:pointer;padding:8px 12px;color:var(--steel);transition:color 0.2s}
        .search-btn:hover{color:var(--text)}
        .hero{padding:7rem 0 3rem;text-align:center;background:transparent;position:relative}
        .hero h1{font-size:2.4rem;font-weight:800;margin-bottom:0.75rem;letter-spacing:-0.035em;line-height:1.1}.hero h1 .accent{color:var(--accent)}.hero h1 .gold{color:var(--accent)}
        .hero p{color:var(--steel);font-size:1.05rem;max-width:640px;margin:0 auto 1.5rem;line-height:1.7;font-weight:400}
        .badge-live{display:inline-flex;align-items:center;gap:8px;background:rgba(0,170,255,0.08);border:1px solid rgba(0,170,255,0.12);color:var(--accent);padding:8px 20px;border-radius:100px;font-size:0.8125rem;font-weight:500;letter-spacing:0.02em}
        .badge-live::before{content:'';width:8px;height:8px;background:#00aaff;border-radius:50%;animation:pulse 2s infinite}
        @keyframes pulse{0%,100%{opacity:1}50%{opacity:0.4}}
        .tab-section{padding:2rem 0}
        .nav-pills .nav-link{background:var(--card);color:var(--steel)!important;border:1px solid var(--border);margin-right:0.5rem;margin-bottom:0.5rem;border-radius:3px;font-weight:600;padding:0.6rem 1.2rem;transition:all var(--transition);letter-spacing:-0.01em;font-size:0.875rem}
        .nav-pills .nav-link:hover{color:var(--accent)!important}
        .nav-pills .nav-link.active{background:linear-gradient(135deg,#00aaff,#0088cc)!important;color:#fff!important;border-color:transparent!important;box-shadow:0 4px 15px rgba(0,170,255,0.3)}
        .tab-content{margin-top:1.5rem}
        .s4-card{background:var(--card);border:1px solid var(--border);border-radius:var(--radius);padding:1.5rem;margin-bottom:1.5rem;transition:border-color var(--transition),box-shadow var(--transition)}
        .s4-card h3{font-size:1.1rem;font-weight:700;color:var(--accent);margin-bottom:1rem;letter-spacing:-0.02em}
        .s4-card h3 i{margin-right:0.5rem}
        label{font-weight:600;color:var(--steel);margin-bottom:0.4rem;font-size:0.9rem}
        select,input,textarea{background:var(--surface)!important;color:var(--text)!important;border:1px solid var(--border)!important;border-radius:3px!important;padding:0.6rem 0.8rem!important;font-family:'Inter',sans-serif!important;font-size:0.95rem!important;width:100%}
        select:focus,input:focus,textarea:focus{border-color:var(--accent)!important;box-shadow:0 0 0 3px rgba(0,170,255,0.15)!important;outline:none}
        textarea{min-height:120px;resize:vertical;font-family:'Courier New',monospace!important;font-size:0.85rem!important}
        .btn-accent{background:var(--accent);color:#fff;border:none;border-radius:3px;padding:0.65rem 1.5rem;font-weight:700;font-size:0.95rem;transition:all 0.2s;cursor:pointer}
        .btn-accent:hover{background:#0099ee;transform:translateY(-1px);color:#fff;box-shadow:0 4px 15px rgba(0,170,255,0.25)}
        .btn-accent:disabled{opacity:0.5;cursor:not-allowed;transform:none}
        .btn-gold{background:var(--gold);color:#050810;border:none;border-radius:3px;padding:0.65rem 1.5rem;font-weight:700;font-size:0.95rem;cursor:pointer}
        .btn-gold:hover{background:#0099dd;color:#fff}
        .result-panel{background:var(--surface);border:1px solid var(--border);border-radius:3px;padding:1.2rem;margin-top:1rem;display:none;font-family:'Courier New',monospace;font-size:0.85rem}
        .result-panel.show{display:block;animation:fadeIn 0.3s ease}
        @keyframes fadeIn{from{opacity:0;transform:translateY(8px)}to{opacity:1;transform:translateY(0)}}
        .result-label{color:var(--muted);font-size:0.75rem;text-transform:uppercase;letter-spacing:1px;margin-bottom:0.3rem}
        .result-value{color:var(--accent);word-break:break-all}
        .result-value.error{color:var(--red)}
        .hash-display{background:rgba(0,170,255,0.08);border:1px solid rgba(0,170,255,0.2);border-radius:3px;padding:0.6rem;word-break:break-all;color:var(--accent);margin:0.5rem 0}
        .branch-tabs{display:flex;flex-wrap:wrap;gap:6px;margin-bottom:12px}
        .branch-tab{background:var(--surface);border:1px solid var(--border);border-radius:3px;padding:6px 14px;font-size:0.82rem;font-weight:600;cursor:pointer;color:var(--steel);transition:all 0.2s;font-family:inherit}
        .branch-tab:hover{border-color:var(--accent);color:var(--accent)}
        .branch-tab.active{background:linear-gradient(135deg,#00aaff,#0088cc);border-color:transparent;color:#fff!important;box-shadow:0 2px 10px rgba(0,170,255,0.3)}
        .record-type-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(155px,1fr));gap:0.6rem;margin-bottom:1rem;max-height:280px;overflow-y:auto;padding-right:4px}
        .record-type-btn{background:var(--surface);border:1px solid var(--border);border-radius:3px;padding:0.6rem 0.7rem;cursor:pointer;text-align:center;transition:all 0.2s;font-size:0.78rem;font-weight:600}
        .record-type-btn:hover{border-color:var(--accent);background:rgba(0,170,255,0.05)}
        .record-type-btn.selected{border-color:var(--accent);background:linear-gradient(135deg,#00aaff,#0088cc);color:#fff;box-shadow:0 4px 15px rgba(0,170,255,0.3)}
        .record-type-btn .icon{font-size:1.2rem;display:block;margin-bottom:0.2rem}
        .type-search{background:var(--surface);border:1px solid var(--border);border-radius:3px;padding:6px 12px;font-size:0.85rem;color:var(--text);width:100%;margin-bottom:8px;font-family:inherit}
        .type-search:focus{border-color:var(--accent);outline:none;box-shadow:0 0 0 2px rgba(0,170,255,0.15)}
        .type-search::placeholder{color:var(--muted)}
        .tx-log{max-height:400px;overflow-y:auto}
        .tx-entry{background:var(--surface);border:1px solid var(--border);border-radius:3px;padding:0.8rem 1rem;margin-bottom:0.5rem;display:flex;align-items:center;gap:1rem;transition:all 0.2s}
        .tx-entry:hover{border-color:var(--accent);box-shadow:0 0 0 1px rgba(0,170,255,0.1)}
        .tx-icon{font-size:1.4rem;min-width:36px;text-align:center}
        .tx-info{flex:1}.tx-type{font-weight:700;font-size:0.9rem}.tx-hash{font-family:monospace;color:var(--muted);font-size:0.75rem}
        .tx-time{color:var(--muted);font-size:0.75rem;white-space:nowrap}
        .tx-badge{font-size:0.7rem;font-weight:700;padding:2px 8px;border-radius:4px}
        .tx-badge.anchored{background:rgba(0,170,255,0.06);color:var(--accent)}
        .stat-card{background:var(--card);border:1px solid var(--border);border-radius:var(--radius);padding:1.5rem;text-align:center;transition:border-color var(--transition),box-shadow var(--transition)}
        .stat-value{font-size:2rem;font-weight:800;color:var(--accent);letter-spacing:-0.03em}.stat-label{font-size:0.8rem;color:var(--muted);text-transform:uppercase;letter-spacing:1px}
        footer{border-top:1px solid var(--border);padding:3rem 0;margin-top:4rem;text-align:center;color:var(--muted);font-size:0.8125rem;letter-spacing:-0.01em}
        footer a{color:var(--accent);text-decoration:none}
        .sample-btn{background:var(--surface);border:1px solid var(--border);border-radius:3px;padding:0.4rem 0.8rem;cursor:pointer;font-size:0.8rem;color:var(--steel);transition:all 0.2s;display:inline-block;margin:0.2rem}
        .sample-btn:hover{border-color:var(--accent);color:var(--accent)}
        .mesh-overlay{display:none!important;visibility:hidden}
        .g-orb{display:none!important}
        
        
        .branch-count{font-size:0.8rem;color:var(--muted);margin-bottom:6px}
        ::-webkit-scrollbar{width:6px}::-webkit-scrollbar-track{background:var(--bg)}::-webkit-scrollbar-thumb{background:var(--border);border-radius:3px}
        @media(max-width:768px){.hero h1{font-size:1.6rem}.record-type-grid{grid-template-columns:repeat(2,1fr)}.branch-tabs{gap:4px}.branch-tab{font-size:0.75rem;padding:5px 10px}}

        @keyframes logoFloat{0%,100%{transform:translateY(0)}50%{transform:translateY(-3px)}}
        @keyframes brandGradient{0%,100%{background-position:0% 50%}50%{background-position:100% 50%}}
        .scroll-progress{position:fixed;top:0;left:0;width:0%;height:3px;background:#00aaff;z-index:10000;transition:width 0.1s linear;box-shadow:0 0 10px #00aaff}
        .reveal-anim{opacity:0;transform:translateY(25px);transition:all 0.5s ease-out}
        .reveal-anim.visible{opacity:1;transform:translateY(0)}
        .gradient-text{color:#fff;font-weight:800}
        .nav-logo{height:32px;width:32px;margin-right:8px;vertical-align:middle;animation:logoFloat 3s ease-in-out infinite}
        .footer-logo{height:28px;width:28px;margin-right:8px;vertical-align:middle;animation:logoFloat 4s ease-in-out infinite}
        .dropdown-menu{border-radius:3px;padding:8px 0;min-width:160px;box-shadow:0 8px 30px rgba(0,0,0,0.6)}
        .dropdown-item{padding:8px 18px;font-size:0.88rem;transition:background 0.2s,color 0.2s}
        .dropdown-item:hover,.dropdown-item:focus{background:rgba(0,170,255,0.12);color:var(--accent)!important}
        .copy-btn{background:rgba(0,170,255,0.15);border:1px solid rgba(0,170,255,0.3);color:var(--accent);border-radius:3px;padding:4px 10px;font-size:0.75rem;cursor:pointer;font-family:inherit;transition:all 0.2s;margin-left:8px}
        .copy-btn:hover{background:rgba(0,170,255,0.3);color:#fff}
        .clf-banner{display:none;align-items:center;gap:10px;padding:10px 16px;border-radius:3px;margin:10px 0;font-size:0.88rem;font-weight:600;animation:fadeIn 0.25s ease-out}
        .clf-banner.show{display:flex}
        .clf-badge{padding:3px 12px;border-radius:3px;font-size:0.78rem;font-weight:800;letter-spacing:0.5px;text-transform:uppercase}
        .clf-U .clf-badge{background:rgba(0,170,0,0.15);color:#00cc66;border:1px solid rgba(0,170,0,0.3)}
        .clf-CUI .clf-badge{background:rgba(0,170,255,0.06);color:#00aaff;border:1px solid rgba(0,170,255,0.15)}
        .clf-SECRET .clf-badge{background:rgba(255,50,50,0.15);color:#ff5555;border:1px solid rgba(255,50,50,0.3)}
        .clf-TS .clf-badge{background:rgba(255,165,0,0.15);color:#ffa500;border:1px solid rgba(255,165,0,0.35)}
        .clf-U{background:rgba(0,170,0,0.04);border:1px solid rgba(0,170,0,0.15)}
        .clf-CUI{background:rgba(0,170,255,0.06);border:1px solid rgba(201,168,76,0.15)}
        .clf-SECRET{background:rgba(255,50,50,0.04);border:1px solid rgba(255,50,50,0.15)}
        .clf-TS{background:rgba(255,165,0,0.04);border:1px solid rgba(255,165,0,0.15)}
        .clf-text{font-size:0.82rem;color:var(--steel);font-weight:400}
        .clf-icon{font-size:1.1rem}
        .ils-dropzone{border:2px dashed var(--border);border-radius:3px;padding:2rem;text-align:center;cursor:pointer;transition:all 0.3s;background:rgba(0,170,255,0.02);margin-bottom:1rem}
        .ils-dropzone:hover,.ils-dropzone.dragover{border-color:var(--accent);background:rgba(0,170,255,0.06)}
        .ils-dropzone i{font-size:2rem;color:var(--accent);margin-bottom:0.5rem;display:block}
        .ils-file-list{margin-bottom:1rem}
        .ils-file-item{display:flex;align-items:center;justify-content:space-between;padding:8px 12px;background:var(--surface);border:1px solid var(--border);border-radius:3px;margin-bottom:6px;font-size:0.85rem}
        .ils-file-item .file-info{display:flex;align-items:center;gap:8px}
        .ils-file-item .file-stats{color:var(--accent);font-size:0.78rem;font-weight:600}
        .ils-file-item .file-remove{color:var(--red);cursor:pointer;font-size:0.8rem;padding:2px 8px;border-radius:4px;transition:background 0.2s}
        .ils-file-item .file-remove:hover{background:rgba(255,107,107,0.15)}
        .ils-coverage-row{display:flex;align-items:center;gap:10px;padding:8px 0;border-bottom:1px solid rgba(255,255,255,0.03);font-size:0.85rem}
        .ils-coverage-bar{flex:1;background:var(--surface);border-radius:4px;height:8px;overflow:hidden;border:1px solid var(--border)}
        .ils-coverage-fill{height:100%;border-radius:4px;transition:width 0.6s ease}
        .ils-action-item{padding:12px;background:var(--surface);border-radius:3px;margin-bottom:8px;border-left:3px solid var(--accent);font-size:0.85rem}
        .ils-action-item.critical{border-left-color:var(--red)}
        .ils-action-item.warning{border-left-color:#ffa500}
        .ils-action-item .action-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:4px}
        .ils-action-item .action-title{font-weight:700;color:#fff}
        .ils-action-item .action-owner{font-size:0.78rem;padding:2px 8px;border-radius:4px;background:rgba(0,170,255,0.1);color:var(--accent)}
        .ils-action-item .action-detail{color:var(--steel);font-size:0.82rem}
        @media(max-width:991px){.navbar-collapse{background:rgba(5,8,16,0.98);padding:15px;border-radius:3px;margin-top:10px;border:1px solid var(--border);max-height:85vh;overflow-y:auto}.navbar-nav{gap:5px}.nav-link{padding:10px 15px!important;border-radius:3px}.nav-link:hover{background:rgba(0,170,255,0.1)}}
        /* AI Agent Chat */
        .ai-chat-container{background:var(--surface);border:1px solid var(--border);border-radius:3px;overflow:hidden;display:flex;flex-direction:column;height:420px}
        .ai-chat-header{background:linear-gradient(135deg,rgba(0,170,255,0.15),rgba(201,168,76,0.1));padding:12px 16px;border-bottom:1px solid var(--border);display:flex;align-items:center;gap:10px}
        .ai-chat-header .ai-dot{width:10px;height:10px;background:#00aaff;border-radius:50%;animation:pulse 2s infinite}
        .ai-chat-messages{flex:1;overflow-y:auto;padding:12px;display:flex;flex-direction:column;gap:10px;font-size:0.85rem}
        .ai-msg{padding:10px 14px;border-radius:3px;max-width:90%;line-height:1.5;animation:fadeIn 0.3s ease}
        .ai-msg.bot{background:rgba(0,170,255,0.08);border:1px solid rgba(0,170,255,0.15);align-self:flex-start;color:var(--steel)}
        .ai-msg.user{background:rgba(0,170,255,0.06);border:1px solid rgba(201,168,76,0.2);align-self:flex-end;color:#fff}
        .ai-msg .ai-label{font-size:0.7rem;font-weight:700;color:var(--accent);text-transform:uppercase;letter-spacing:0.5px;margin-bottom:4px}
        .ai-chat-input{display:flex;gap:8px;padding:10px 12px;border-top:1px solid var(--border);background:var(--card)}
        .ai-chat-input input{flex:1;background:var(--surface)!important;border:1px solid var(--border)!important;border-radius:3px!important;padding:8px 12px!important;color:var(--text)!important;font-size:0.85rem!important;font-family:inherit!important}
        .ai-chat-input button{background:var(--accent);color:#fff;border:none;border-radius:3px;padding:8px 14px;font-size:0.85rem;font-weight:600;cursor:pointer;white-space:nowrap}
        .ai-chat-input button:hover{background:#0099ee}
        .ai-quick-btns{display:flex;flex-wrap:wrap;gap:4px;padding:6px 12px;background:var(--card);border-top:1px solid rgba(255,255,255,0.03)}
        .ai-quick-btn{background:rgba(0,170,255,0.06);border:1px solid rgba(0,170,255,0.15);color:var(--accent);border-radius:3px;padding:4px 10px;font-size:0.72rem;cursor:pointer;font-family:inherit;transition:all 0.2s}
        .ai-quick-btn:hover{background:rgba(0,170,255,0.15);border-color:var(--accent)}
        /* Floating AI Agent */
        .ai-float-wrapper{position:fixed;bottom:24px;right:24px;z-index:9999;display:flex;flex-direction:column;align-items:flex-end;gap:12px;pointer-events:none}
        .ai-float-toggle{pointer-events:all;width:56px;height:56px;border-radius:50%;background:linear-gradient(135deg,#00aaff,#0088cc);color:#fff;border:none;font-size:1.4rem;cursor:pointer;box-shadow:0 4px 20px rgba(0,170,255,0.4);transition:all 0.3s;display:flex;align-items:center;justify-content:center;position:relative}
        .ai-float-toggle:hover{transform:scale(1.08);box-shadow:0 6px 28px rgba(0,170,255,0.5)}
        .ai-float-toggle .ai-float-dot{position:absolute;top:4px;right:4px;width:12px;height:12px;background:#00aaff;border-radius:50%;border:2px solid #0a0e1a;animation:pulse 2s infinite}
        .ai-float-panel{pointer-events:all;width:380px;max-height:520px;background:var(--card);border:1px solid var(--border);border-radius:3px;overflow:hidden;display:flex;flex-direction:column;box-shadow:0 8px 40px rgba(0,0,0,0.5);transform:translateY(20px) scale(0.95);opacity:0;transition:all 0.3s cubic-bezier(0.34,1.56,0.64,1);visibility:hidden}
        .ai-float-panel.open{transform:translateY(0) scale(1);opacity:1;visibility:visible;background:var(--card)}
        .ai-float-panel .ai-chat-header{border-radius:0;display:flex;justify-content:space-between}
        .ai-float-panel .ai-chat-header .ai-close-btn{background:none;border:none;color:var(--muted);font-size:1.1rem;cursor:pointer;padding:4px 8px;border-radius:3px;transition:all 0.2s}
        .ai-float-panel .ai-chat-header .ai-close-btn:hover{color:#fff;background:rgba(255,255,255,0.1)}
        .ai-float-panel .ai-chat-messages{height:280px;flex:1}
        .ai-float-panel .ai-context-label{font-size:0.68rem;padding:4px 12px;background:rgba(0,170,255,0.06);border-bottom:1px solid rgba(201,168,76,0.1);color:var(--accent);font-weight:600;display:flex;align-items:center;gap:6px}

        /* ── Onboarding Wizard ── */
        .onboard-overlay{position:fixed;inset:0;background:rgba(5,8,16,0.97);z-index:10000;display:flex;align-items:center;justify-content:center;animation:fadeIn 0.4s ease;backdrop-filter:blur(12px)}
        .onboard-modal{background:var(--card);border:1px solid var(--border);border-radius:3px;width:560px;max-width:94vw;max-height:90vh;overflow-y:auto;box-shadow:0 12px 60px rgba(0,0,0,0.6);animation:slideUp 0.4s ease}
        @keyframes slideUp{from{transform:translateY(30px);opacity:0}to{transform:translateY(0);opacity:1}}
        .onboard-header{background:linear-gradient(135deg,rgba(0,170,255,0.12),rgba(201,168,76,0.08));padding:24px 28px 16px;border-bottom:1px solid var(--border);text-align:center}
        .onboard-body{padding:24px 28px}
        .onboard-step{display:none;animation:fadeIn 0.3s ease}
        .onboard-step.active{display:block}
        .onboard-progress{display:flex;gap:6px;justify-content:center;margin:16px 0 8px}
        .onboard-dot{width:10px;height:10px;border-radius:50%;background:var(--border);transition:all 0.3s}
        .onboard-dot.active{background:var(--accent);box-shadow:0 0 8px rgba(0,170,255,0.4)}
        .onboard-dot.done{background:var(--green)}
        .onboard-btn{background:var(--accent);color:#fff;border:none;border-radius:3px;padding:10px 28px;font-weight:700;font-size:0.9rem;cursor:pointer;transition:all 0.2s}
        .onboard-btn:hover{background:#0099ee;transform:translateY(-1px)}
        .onboard-btn-outline{background:transparent;color:var(--steel);border:1px solid var(--border);border-radius:3px;padding:10px 28px;font-weight:600;font-size:0.9rem;cursor:pointer;transition:all 0.2s}
        .onboard-btn-outline:hover{border-color:var(--accent);color:var(--accent)}
        .onboard-feature{display:flex;align-items:flex-start;gap:12px;padding:10px 0;border-bottom:1px solid rgba(255,255,255,0.03)}
        .onboard-feature:last-child{border-bottom:none}
        .onboard-icon{width:36px;height:36px;border-radius:3px;display:flex;align-items:center;justify-content:center;flex-shrink:0;font-size:0.9rem}
        .onboard-tier{background:var(--surface);border:1px solid var(--border);border-radius:3px;padding:14px;text-align:center;cursor:pointer;transition:all 0.2s}
        .onboard-tier:hover,.onboard-tier.selected{border-color:var(--accent);background:rgba(0,170,255,0.06)}
        .onboard-tier.selected{box-shadow:0 0 12px rgba(0,170,255,0.2)}
        @media(max-width:480px){.ai-float-panel{width:calc(100vw - 32px);right:0}.ai-float-wrapper{right:16px;bottom:16px}}
        /* Post-Analysis Actions */
        .post-actions{display:flex;flex-wrap:wrap;gap:8px;margin-top:12px;padding-top:12px;border-top:1px dashed var(--border)}
        .post-action-btn{display:inline-flex;align-items:center;gap:6px;background:rgba(0,170,255,0.06);border:1px solid rgba(0,170,255,0.2);color:var(--steel);border-radius:3px;padding:8px 14px;font-size:0.8rem;font-weight:600;cursor:pointer;font-family:inherit;transition:all 0.2s}
        .post-action-btn:hover{background:rgba(0,170,255,0.14);color:var(--accent);border-color:var(--accent)}
        .post-action-btn i{font-size:0.85rem;color:var(--accent)}
        /* Sample Package Modal */
        .sample-pkg-grid{display:grid;grid-template-columns:1fr 1fr;gap:6px;margin:10px 0;max-height:200px;overflow-y:auto}
        .sample-pkg-item{display:flex;align-items:center;gap:6px;padding:6px 10px;background:rgba(0,170,255,0.04);border:1px solid rgba(0,170,255,0.1);border-radius:3px;font-size:0.78rem;color:var(--steel);cursor:default}
        .sample-pkg-item i{color:var(--accent);font-size:0.75rem;min-width:14px}
        /* Send Modal */
        .modal-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(5,8,16,0.9);display:flex;align-items:center;justify-content:center;z-index:9998;opacity:0;pointer-events:none;transition:opacity 0.3s}
        .modal-overlay.active{opacity:1;pointer-events:all}
        .modal-box{background:var(--card);border:1px solid var(--border);border-radius:3px;padding:2rem;max-width:480px;width:90%;animation:fadeIn 0.3s ease}
        .modal-box h4{color:var(--accent);margin-bottom:1rem}
        .modal-box .modal-close{position:absolute;top:12px;right:16px;background:none;border:none;color:var(--muted);font-size:1.2rem;cursor:pointer}
        /* ═══ TOAST NOTIFICATION SYSTEM ═══ */
        #s4ToastContainer{position:fixed;top:80px;right:20px;z-index:9997;display:flex;flex-direction:column;gap:8px;max-width:340px;pointer-events:none}
        .s4-toast{pointer-events:all;display:flex;align-items:flex-start;gap:10px;background:var(--card);border:1px solid var(--border);border-radius:3px;padding:10px 14px;box-shadow:0 4px 20px rgba(0,0,0,0.4);animation:toastSlideIn 0.3s ease-out;position:relative;overflow:hidden;min-width:260px;max-width:340px}
        .s4-toast::before{content:'';position:absolute;top:0;left:0;width:3px;height:100%;border-radius:3px 0 0 3px}
        .s4-toast.info::before{background:var(--accent)}.s4-toast.warning::before{background:#ffa500}.s4-toast.danger::before{background:#ff3333}.s4-toast.success::before{background:#00aaff}
        .s4-toast-icon{font-size:1.1rem;min-width:22px;text-align:center;padding-top:1px}
        .s4-toast-body{flex:1}
        .s4-toast-title{font-weight:700;font-size:0.8rem;color:#fff;margin-bottom:1px}
        .s4-toast-msg{font-size:0.76rem;color:var(--steel);line-height:1.35}
        .s4-toast-close{background:none;border:none;color:var(--muted);font-size:0.9rem;cursor:pointer;padding:0 0 0 6px;line-height:1}
        .s4-toast-close:hover{color:#fff}
        .s4-toast-actions{display:flex;gap:6px;margin-top:6px}
        .s4-toast-action{background:rgba(0,170,255,0.1);border:1px solid rgba(0,170,255,0.2);color:var(--accent);border-radius:3px;padding:3px 8px;font-size:0.7rem;cursor:pointer;font-family:inherit;font-weight:600;transition:all 0.2s}
        .s4-toast-action:hover{background:rgba(0,170,255,0.2)}
        .s4-toast-progress{position:absolute;bottom:0;left:0;height:2px;background:var(--accent);border-radius:0 0 0 3px;animation:toastProgress 8s linear forwards}
        .s4-toast.warning .s4-toast-progress{background:#ffa500}.s4-toast.danger .s4-toast-progress{background:#ff3333}.s4-toast.success .s4-toast-progress{background:#00aaff}
        @keyframes toastSlideIn{from{opacity:0;transform:translateX(100px)}to{opacity:1;transform:translateX(0)}}
        @keyframes toastSlideOut{from{opacity:1;transform:translateX(0)}to{opacity:0;transform:translateX(100px)}}
        @keyframes toastProgress{from{width:100%}to{width:0%}}
        .s4-toast.dismissing{animation:toastSlideOut 0.3s ease-in forwards}
        /* ═══ NOTIFICATION BELL ═══ */
        .notif-bell{position:relative;background:none;border:none;color:var(--steel);font-size:1.1rem;cursor:pointer;padding:8px 12px;transition:color 0.2s}
        .notif-bell:hover{color:var(--accent)}
        .notif-badge{position:absolute;top:4px;right:4px;background:#ff3333;color:#fff;font-size:0.6rem;font-weight:800;width:18px;height:18px;border-radius:50%;display:flex;align-items:center;justify-content:center;animation:pulse 2s infinite}
        .notif-badge:empty{display:none}
        /* ═══ ACTION ITEMS PANEL ═══ */
        .action-tracker{background:var(--card);border:1px solid var(--border);border-radius:3px;padding:16px;margin-bottom:1rem}
        .action-tracker h5{color:var(--accent);font-weight:700;margin-bottom:12px}
        .action-item{display:flex;align-items:flex-start;gap:8px;padding:12px 14px;background:var(--surface);border:1px solid var(--border);border-radius:3px;margin-bottom:6px;font-size:0.83rem;transition:all 0.2s}
        .action-item:hover{border-color:var(--accent)}
        .action-item .ai-controls{display:flex;flex-direction:column;align-items:center;gap:4px;padding-top:1px;flex-shrink:0}
        .action-item .ai-check{width:18px;height:18px;border:2px solid var(--border);border-radius:4px;cursor:pointer;display:flex;align-items:center;justify-content:center;flex-shrink:0;transition:all 0.2s}
        .action-item .ai-check:hover{border-color:var(--accent)}
        .action-item .ai-check.done{background:var(--green);border-color:var(--accent)}
        .action-item .ai-check.done::after{content:'✓';color:#000;font-size:0.65rem;font-weight:800}
        .action-item.completed{opacity:0.5}
        .action-item.completed .ai-body .ai-title{text-decoration:line-through}
        .ai-body{flex:1;min-width:0}
        .ai-title{font-weight:600;color:#fff;margin-bottom:4px;line-height:1.35}
        .ai-meta{font-size:0.75rem;color:var(--muted);display:flex;gap:6px 10px;flex-wrap:wrap;align-items:center;margin-top:2px}
        .ai-meta span{white-space:nowrap}
        .ai-tag{padding:1px 6px;border-radius:4px;font-size:0.7rem;font-weight:600}
        .ai-tag.critical{background:rgba(255,51,51,0.15);color:#ff3333}
        .ai-tag.warning{background:rgba(255,165,0,0.15);color:#ffa500}
        .ai-tag.info{background:rgba(0,170,255,0.15);color:#00aaff}
        .ai-tag.success{background:rgba(0,170,255,0.06);color:#00aaff}
        .ai-priority{display:inline-flex;align-items:center;gap:4px}
        .stat-mini{background:var(--surface);border:1px solid var(--border);border-radius:3px;padding:12px;text-align:center}
        .stat-mini-val{font-size:1.3rem;font-weight:800;color:var(--accent)}
        .stat-mini-label{font-size:0.72rem;color:var(--muted);text-transform:uppercase;letter-spacing:0.5px;margin-top:2px}
        /* ═══ ILS WORKSPACE SUB-TABS ═══ */
        .ils-hub-tabs{display:none!important;flex-wrap:wrap;gap:4px;margin-bottom:16px;padding:4px;background:var(--surface);border:1px solid var(--border);border-radius:3px}
        .ils-hub-tab{background:transparent;border:1px solid transparent;border-radius:3px;padding:8px 14px;font-size:0.8rem;font-weight:600;cursor:pointer;color:var(--steel);transition:all 0.2s;font-family:inherit;display:flex;align-items:center;gap:6px;white-space:nowrap}
        .ils-hub-tab:hover{color:var(--accent);background:rgba(0,170,255,0.06)}
        .ils-hub-tab.active{background:linear-gradient(135deg,#00aaff,#0088cc);color:#fff!important;border-color:transparent;box-shadow:0 2px 10px rgba(0,170,255,0.3)}
        .ils-hub-tab .tab-badge{font-size:0.65rem;padding:1px 6px;border-radius:3px;background:rgba(255,51,51,0.2);color:#ff3333;font-weight:700}
        .ils-hub-tab.active .tab-badge{background:rgba(255,255,255,0.2);color:#fff}
        /* ═══ ANCHOR-S4 UX OVERHAUL — Professional Enhancement ═══ */
        
        /* ── Override inline styles on panel cards ── */
        .ils-hub-panel .s4-card,
        .ils-hub-panel .s4-card.glass-card{
            border:1px solid var(--border) !important;
            border-radius:3px !important;
            background:var(--card) !important;
            padding:28px 32px !important;
            transition:border-color 0.3s,box-shadow 0.3s !important;
            animation:panelSlideIn 0.4s ease !important;
            position:relative !important;
            overflow:hidden !important;
        }
        .ils-hub-panel .s4-card::before{
            content:'';position:absolute;top:0;left:0;right:0;height:3px;
            background:linear-gradient(90deg,var(--accent),var(--gold),transparent);
            opacity:0.6;z-index:1;
        }
        .ils-hub-panel .s4-card:hover{
            border-color:rgba(0,170,255,0.15) !important;
            box-shadow:0 8px 32px rgba(0,0,0,0.2) !important;
        }
        @keyframes panelSlideIn{from{opacity:0;transform:translateY(12px)}to{opacity:1;transform:translateY(0)}}
        
        /* ── Panel headers ── */
        .ils-hub-panel .s4-card h3,
        .ils-hub-panel .s4-card h4{
            font-size:1.1rem !important;font-weight:700 !important;
            color:#fff !important;margin-bottom:18px !important;
            display:flex !important;align-items:center !important;
            gap:10px !important;letter-spacing:-0.01em !important;
            padding-bottom:14px !important;
            border-bottom:1px solid var(--border) !important;
        }
        .ils-hub-panel .s4-card h3 i,
        .ils-hub-panel .s4-card h4 i{
            color:var(--accent) !important;font-size:1rem !important;
            margin-right:0 !important;
        }
        .ils-hub-panel .hub-tool-header{
            display:flex !important;align-items:center !important;
            justify-content:space-between !important;
            margin-bottom:0 !important;
            padding-bottom:14px !important;
            border-bottom:1px solid var(--border) !important;
        }
        .ils-hub-panel .hub-tool-header h4{
            border-bottom:none !important;padding-bottom:0 !important;margin-bottom:0 !important;
        }
        
        /* ── Override inline styles on Details/Accordion ── */
        .ils-hub-panel details{
            margin-bottom:16px !important;
            background:rgba(0,170,255,0.03) !important;
            border:1px solid rgba(0,170,255,0.08) !important;
            border-radius:3px !important;
            padding:0 16px !important;
            transition:all 0.3s !important;
            position:relative !important;
        }
        /* ── How It Works ? help icon ── */
        .hiw-help-btn{
            width:26px !important;height:26px !important;border-radius:50% !important;
            background:rgba(0,170,255,0.12) !important;border:1px solid rgba(0,170,255,0.25) !important;
            color:#00aaff !important;font-size:0.75rem !important;font-weight:700 !important;
            cursor:pointer !important;display:inline-flex !important;align-items:center !important;
            justify-content:center !important;transition:all 0.2s !important;
            line-height:1 !important;padding:0 !important;margin-left:8px !important;
            vertical-align:middle !important;
        }
        .hiw-help-btn:hover{background:rgba(0,170,255,0.25) !important;transform:scale(1.1) !important}
        /* ── How It Works modal popup ── */
        .hiw-modal-overlay{position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(0,0,0,0.65);z-index:10000;display:flex;align-items:center;justify-content:center;animation:fadeIn 0.2s ease;backdrop-filter:blur(4px)}
        .hiw-modal-box{background:var(--card,#0f1318);border:1px solid rgba(0,170,255,0.25);border-radius:8px;max-width:560px;width:92%;max-height:75vh;overflow-y:auto;padding:28px 24px 24px;position:relative;box-shadow:0 12px 40px rgba(0,0,0,0.5);animation:scaleIn 0.25s ease}
        @keyframes scaleIn{from{transform:scale(0.9);opacity:0}to{transform:scale(1);opacity:1}}
        .hiw-modal-box h4{color:#00aaff;font-size:1rem;margin:0 0 12px;display:flex;align-items:center;gap:8px}
        .hiw-modal-box .hiw-close{position:absolute;top:10px;right:14px;background:none;border:none;color:var(--muted);font-size:1.3rem;cursor:pointer;padding:4px 8px;line-height:1}
        .hiw-modal-box .hiw-close:hover{color:#fff}
        .hiw-modal-box .hiw-body{color:var(--steel);font-size:0.84rem;line-height:1.65}
        .hiw-modal-box .hiw-body p{margin:0 0 10px}
        .hiw-modal-box .hiw-body strong{color:#fff}
        [data-theme="light"] .hiw-modal-box{background:#fff;border-color:rgba(0,170,255,0.2);box-shadow:0 12px 40px rgba(0,0,0,0.15)}
        [data-theme="light"] .hiw-modal-box .hiw-body strong{color:#1a1a2e}
        [data-theme="light"] .hiw-modal-box .hiw-close{color:#999}

        /* ── Drag-reorder tool cards ── */
        .ils-tool-card{cursor:grab;user-select:none;-webkit-user-select:none;transition:transform 0.15s ease,opacity 0.15s ease,box-shadow 0.15s ease}
        .ils-tool-card.dragging{opacity:0.45;transform:scale(0.92);box-shadow:0 0 20px rgba(0,170,255,0.4) !important;z-index:1000}
        .ils-tool-card.drag-over{border:2px solid #00aaff !important;box-shadow:0 0 12px rgba(0,170,255,0.3) !important}

        .ils-hub-panel details[open]{
            background:rgba(0,170,255,0.05) !important;
            border-color:rgba(0,170,255,0.15) !important;
        }
        .ils-hub-panel details summary{
            cursor:pointer !important;
            padding:14px 0 !important;
            color:var(--accent) !important;
            font-weight:600 !important;
            font-size:0.82rem !important;
            display:flex !important;
            align-items:center !important;
            gap:8px !important;
            transition:color 0.2s !important;
            list-style:none !important;
        }
        .ils-hub-panel details summary::-webkit-details-marker{display:none !important}
        .ils-hub-panel details summary::before{
            content:'\f054' !important;font-family:'Font Awesome 6 Free' !important;
            font-weight:900 !important;font-size:0.65rem !important;
            transition:transform 0.25s !important;color:var(--accent) !important;
            flex-shrink:0 !important;
        }
        .ils-hub-panel details[open] summary::before{transform:rotate(90deg) !important}
        .ils-hub-panel details > div{
            padding:0 0 14px !important;
            color:var(--steel) !important;
            font-size:0.82rem !important;
            line-height:1.65 !important;
        }
        
        /* ── Description paragraphs ── */
        .ils-hub-panel .s4-card > p{
            color:var(--steel) !important;
            font-size:0.88rem !important;
            line-height:1.6 !important;
            margin-bottom:16px !important;
        }
        
        /* ── KPI Dashboard Strips (upgraded stat-mini) ── */
        .kpi-strip{display:grid !important;grid-template-columns:repeat(auto-fit,minmax(130px,1fr)) !important;gap:12px !important;margin-bottom:20px !important}
        .kpi-card{
            background:linear-gradient(145deg,var(--surface),rgba(0,170,255,0.03)) !important;
            border:1px solid var(--border) !important;
            border-radius:3px !important;
            padding:16px 14px !important;
            text-align:center !important;
            transition:all 0.3s !important;
            position:relative !important;
            overflow:hidden !important;
        }
        .kpi-card::before{content:'';position:absolute;top:0;left:0;right:0;height:3px;background:linear-gradient(90deg,var(--accent),transparent);opacity:0;transition:opacity 0.3s}
        .kpi-card:hover{border-color:rgba(0,170,255,0.2) !important;transform:translateY(-2px) !important;box-shadow:0 6px 20px rgba(0,0,0,0.2) !important}
        .kpi-card:hover::before{opacity:1}
        .kpi-val{font-size:1.5rem !important;font-weight:800 !important;color:#fff !important;line-height:1.2 !important;margin-bottom:4px !important;font-variant-numeric:tabular-nums !important}
        .kpi-val.accent{color:var(--accent) !important}
        .kpi-val.gold{color:var(--gold) !important}
        .kpi-val.red{color:#ff4444 !important}
        .kpi-val.green{color:#00cc66 !important}
        .kpi-lbl{font-size:0.68rem !important;color:var(--steel) !important;text-transform:uppercase !important;letter-spacing:0.8px !important;font-weight:600 !important;margin-top:4px !important}
        
        /* ── Enhanced Stat Mini Cards (original class override) ── */
        .ils-hub-panel .stat-mini{
            background:linear-gradient(145deg,var(--surface),rgba(0,170,255,0.03)) !important;
            border:1px solid var(--border) !important;
            border-radius:3px !important;
            padding:16px 14px !important;
            text-align:center !important;
            transition:all 0.3s !important;
            position:relative !important;
            overflow:hidden !important;
        }
        .ils-hub-panel .stat-mini::before{
            content:'';position:absolute;top:0;left:0;right:0;height:3px;
            background:linear-gradient(90deg,var(--accent),transparent);opacity:0;transition:opacity 0.3s;
        }
        .ils-hub-panel .stat-mini:hover{
            border-color:rgba(0,170,255,0.2) !important;
            transform:translateY(-2px) !important;
            box-shadow:0 6px 20px rgba(0,0,0,0.2) !important;
        }
        .ils-hub-panel .stat-mini:hover::before{opacity:1}
        .ils-hub-panel .stat-mini-val{
            font-size:1.3rem !important;font-weight:800 !important;
            line-height:1.2 !important;font-variant-numeric:tabular-nums !important;
        }
        .ils-hub-panel .stat-mini-label,
        .ils-hub-panel .stat-mini-lbl{
            font-size:0.68rem !important;color:var(--steel) !important;
            text-transform:uppercase !important;letter-spacing:0.5px !important;
            margin-top:4px !important;font-weight:600 !important;
        }

        /* ── Chart Containers ── */
        .chart-container{
            background:var(--surface) !important;
            border:1px solid var(--border) !important;
            border-radius:3px !important;
            padding:20px !important;
            margin-bottom:16px !important;
            position:relative !important;
            transition:border-color 0.3s !important;
        }
        .chart-container:hover{border-color:rgba(0,170,255,0.12) !important}
        .chart-container canvas{max-height:260px !important}
        .chart-title{
            font-size:0.78rem !important;font-weight:700 !important;
            color:var(--steel) !important;text-transform:uppercase !important;
            letter-spacing:0.5px !important;margin-bottom:14px !important;
            display:flex !important;align-items:center !important;gap:6px !important;
        }
        .chart-title i{color:var(--accent) !important;font-size:0.72rem !important}
        
        /* ── Section Labels ── */
        .section-divider{border:none !important;border-top:1px solid var(--border) !important;margin:20px 0 !important}
        .section-label{
            font-size:0.7rem !important;font-weight:700 !important;
            color:var(--steel) !important;text-transform:uppercase !important;
            letter-spacing:1.2px !important;margin-bottom:12px !important;
            display:flex !important;align-items:center !important;gap:6px !important;
        }
        .section-label i{color:var(--accent) !important;font-size:0.65rem !important}
        
        /* ── Enhanced Buttons ── */
        .btn-anchor{
            background:linear-gradient(135deg,#00aaff,#0077cc) !important;
            color:#fff !important;border:none !important;border-radius:3px !important;
            padding:10px 20px !important;font-size:0.82rem !important;font-weight:700 !important;
            cursor:pointer !important;transition:all 0.3s !important;
            display:inline-flex !important;align-items:center !important;gap:8px !important;
            font-family:inherit !important;box-shadow:0 2px 12px rgba(0,170,255,0.25) !important;
        }
        .btn-anchor:hover{transform:translateY(-1px) !important;box-shadow:0 4px 20px rgba(0,170,255,0.35) !important}
        .btn-export{
            background:rgba(0,170,255,0.08) !important;color:var(--accent) !important;
            border:1px solid rgba(0,170,255,0.2) !important;border-radius:3px !important;
            padding:10px 20px !important;font-size:0.82rem !important;font-weight:700 !important;
            cursor:pointer !important;transition:all 0.2s !important;
            display:inline-flex !important;align-items:center !important;gap:8px !important;
            font-family:inherit !important;
        }
        .btn-export:hover{background:rgba(0,170,255,0.15) !important;border-color:rgba(0,170,255,0.35) !important}
        
        /* ── Actions Bar ── */
        .tool-actions-bar{
            display:flex !important;gap:10px !important;flex-wrap:wrap !important;
            margin-top:20px !important;padding-top:16px !important;
            border-top:1px solid var(--border) !important;
        }
        
        /* ── Data Tables ── */
        .data-table{width:100%;border-collapse:separate;border-spacing:0;font-size:0.82rem;border:1px solid var(--border);border-radius:3px;overflow:hidden}
        .data-table thead th{background:var(--surface);color:var(--steel);font-weight:700;text-transform:uppercase;font-size:0.7rem;letter-spacing:0.5px;padding:12px 14px;border-bottom:1px solid var(--border);text-align:left}
        .data-table tbody td{padding:10px 14px;border-bottom:1px solid var(--border);color:var(--text);vertical-align:middle}
        .data-table tbody tr:hover{background:rgba(0,170,255,0.03)}
        .data-table tbody tr:last-child td{border-bottom:none}
        
        /* ── Badge/Tag Styles ── */
        .severity-badge{display:inline-flex;align-items:center;gap:4px;padding:3px 10px;border-radius:3px;font-size:0.7rem;font-weight:700;text-transform:uppercase;letter-spacing:0.3px}
        .severity-badge.critical{background:rgba(255,68,68,0.15);color:#ff4444;border:1px solid rgba(255,68,68,0.2)}
        .severity-badge.warning{background:rgba(255,165,0,0.15);color:#ffa500;border:1px solid rgba(255,165,0,0.2)}
        .severity-badge.info{background:rgba(0,170,255,0.12);color:var(--accent);border:1px solid rgba(0,170,255,0.2)}
        .severity-badge.success{background:rgba(0,204,102,0.12);color:#00cc66;border:1px solid rgba(0,204,102,0.2)}
        
        /* ── Progress Bars ── */
        .progress-bar-container{background:var(--surface);border:1px solid var(--border);border-radius:3px;height:10px;overflow:hidden;position:relative}
        .progress-bar-fill{height:100%;border-radius:3px;transition:width 0.6s cubic-bezier(0.25,0.1,0.25,1);position:relative}
        .progress-bar-fill::after{content:'';position:absolute;top:0;right:0;bottom:0;width:30px;background:linear-gradient(90deg,transparent,rgba(255,255,255,0.15));border-radius:3px}
        
        /* ── Empty State ── */
        .empty-state{text-align:center;padding:40px 20px;color:var(--steel)}
        .empty-state i{font-size:2.5rem;color:var(--border);margin-bottom:12px}
        .empty-state h4{color:#fff;font-size:0.95rem;margin-bottom:8px}
        .empty-state p{font-size:0.82rem;max-width:400px;margin:0 auto}
        
        /* ── Smooth Scrollbars ── */
        .ils-hub-panel ::-webkit-scrollbar{width:6px;height:6px}
        .ils-hub-panel ::-webkit-scrollbar-track{background:transparent}
        .ils-hub-panel ::-webkit-scrollbar-thumb{background:rgba(255,255,255,0.1);border-radius:3px}
        .ils-hub-panel ::-webkit-scrollbar-thumb:hover{background:rgba(255,255,255,0.2)}
        
        /* ── Enhanced Form Controls ── */
        .ils-hub-panel input[type="text"],
        .ils-hub-panel input[type="number"],
        .ils-hub-panel select,
        .ils-hub-panel .form-control,
        .ils-hub-panel .form-select{
            background:var(--surface) !important;
            border:1px solid rgba(255,255,255,0.18) !important;
            color:#fff !important;
            border-radius:3px !important;
            padding:10px 14px !important;
            font-size:0.85rem !important;
            font-family:inherit !important;
            transition:all 0.2s !important;
        }
        .ils-hub-panel input::placeholder,
        .ils-hub-panel textarea::placeholder{
            color:rgba(255,255,255,0.45) !important;
            opacity:1 !important;
        }
        .ils-hub-panel input:focus,
        .ils-hub-panel select:focus,
        .ils-hub-panel .form-control:focus,
        .ils-hub-panel .form-select:focus{
            border-color:var(--accent) !important;
            outline:none !important;
            box-shadow:0 0 0 3px rgba(0,170,255,0.1) !important;
        }
        .ils-hub-panel label{
            color:var(--steel) !important;
            font-size:0.72rem !important;
            font-weight:700 !important;
            text-transform:uppercase !important;
            letter-spacing:0.7px !important;
            margin-bottom:6px !important;
        }
        
        /* ── Tool Card Grid ── */
        .tool-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:16px;margin-bottom:20px}
        .tool-grid-item{background:var(--card);border:1px solid var(--border);border-radius:3px;padding:20px;transition:all 0.3s}
        .tool-grid-item:hover{border-color:rgba(0,170,255,0.15);box-shadow:0 4px 20px rgba(0,0,0,0.15)}
        
        /* ── ILS Dropzone Enhancement ── */
        .ils-hub-panel .ils-dropzone{
            border-radius:3px !important;
            padding:24px !important;
            transition:all 0.3s !important;
        }
        .ils-hub-panel .ils-dropzone:hover{
            border-color:rgba(0,170,255,0.3) !important;
            box-shadow:0 0 20px rgba(0,170,255,0.08) !important;
        }
        
        /* ── Vault Stats Enhancement ── */
        .ils-hub-panel .vault-stats{
            display:grid !important;
            grid-template-columns:repeat(auto-fit,minmax(120px,1fr)) !important;
            gap:12px !important;
            margin-bottom:20px !important;
        }
        .ils-hub-panel .vault-stat{
            background:linear-gradient(145deg,var(--surface),rgba(0,170,255,0.03)) !important;
            border:1px solid var(--border) !important;
            border-radius:3px !important;
            padding:16px 14px !important;
            text-align:center !important;
            transition:all 0.3s !important;
            position:relative !important;
            overflow:hidden !important;
        }
        .ils-hub-panel .vault-stat::before{
            content:'';position:absolute;top:0;left:0;right:0;height:3px;
            background:linear-gradient(90deg,var(--accent),transparent);opacity:0;transition:opacity 0.3s;
        }
        .ils-hub-panel .vault-stat:hover{
            border-color:rgba(0,170,255,0.2) !important;
            transform:translateY(-2px) !important;
            box-shadow:0 6px 20px rgba(0,0,0,0.2) !important;
        }
        .ils-hub-panel .vault-stat:hover::before{opacity:1}
        
        /* ── Responsive ── */
        @media(max-width:768px){
            .kpi-strip{grid-template-columns:repeat(2,1fr) !important}
            .tool-grid{grid-template-columns:1fr !important}
            .ils-hub-panel .s4-card{padding:18px 16px !important}
        }
        @media(max-width:480px){
            .kpi-strip{grid-template-columns:1fr 1fr !important}
        }
        
                .ils-hub-panel{display:none;animation:fadeIn 0.3s ease}
        .ils-hub-panel.active{display:block}
        /* ═══ CALENDAR STYLES ═══ */
        .cal-container{background:var(--card);border:1px solid var(--border);border-radius:3px;overflow:hidden}
        .cal-header{display:flex;justify-content:space-between;align-items:center;padding:12px 16px;background:linear-gradient(135deg,rgba(0,170,255,0.08),rgba(201,168,76,0.05));border-bottom:1px solid var(--border)}
        .cal-header h5{margin:0;color:#fff;font-size:0.95rem;font-weight:700}
        .cal-nav{display:flex;gap:6px}
        .cal-nav button{background:var(--surface);border:1px solid var(--border);border-radius:3px;padding:4px 10px;color:var(--steel);cursor:pointer;font-size:0.85rem;transition:all 0.2s;font-family:inherit}
        .cal-nav button:hover{border-color:var(--accent);color:var(--accent)}
        .cal-grid{display:grid;grid-template-columns:repeat(7,1fr);gap:1px;background:var(--border)}
        .cal-day-header{background:var(--surface);padding:8px;text-align:center;font-size:0.72rem;font-weight:700;color:var(--muted);text-transform:uppercase}
        .cal-day{background:var(--card);padding:6px;min-height:80px;font-size:0.78rem;cursor:pointer;transition:background 0.2s;position:relative}
        .cal-day:hover{background:rgba(0,170,255,0.04)}
        .cal-day.other-month{opacity:0.3}
        .cal-day.today{background:rgba(0,170,255,0.08);box-shadow:inset 0 0 0 1px var(--accent)}
        .cal-day-num{font-weight:700;color:var(--steel);margin-bottom:4px}
        .cal-event{font-size:0.68rem;padding:2px 5px;border-radius:4px;margin-bottom:2px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;cursor:pointer;transition:all 0.2s}
        .cal-event:hover{filter:brightness(1.2)}
        .cal-event.critical{background:rgba(255,51,51,0.2);color:#ff3333;border-left:2px solid #ff3333}
        .cal-event.warning{background:rgba(255,165,0,0.2);color:#ffa500;border-left:2px solid #ffa500}
        .cal-event.info{background:rgba(0,170,255,0.15);color:#00aaff;border-left:2px solid #00aaff}
        .cal-event.success{background:rgba(0,170,255,0.06);color:#00aaff;border-left:2px solid #00aaff}
        .cal-event.custom{background:rgba(0,170,255,0.06);color:#00aaff;border-left:2px solid #00aaff}
        .cal-add-btn{position:absolute;top:4px;right:4px;background:rgba(0,170,255,0.1);border:none;color:var(--accent);border-radius:4px;width:18px;height:18px;font-size:0.7rem;cursor:pointer;display:none;align-items:center;justify-content:center}
        .cal-day:hover .cal-add-btn{display:flex}
        .cal-sidebar{background:var(--surface);border:1px solid var(--border);border-radius:3px;padding:16px}
        .cal-upcoming{font-size:0.82rem}
        .cal-upcoming-item{display:flex;gap:10px;padding:10px;background:var(--card);border:1px solid var(--border);border-radius:3px;margin-bottom:6px;transition:all 0.2s}
        .cal-upcoming-item:hover{border-color:var(--accent)}
        .cal-upcoming-date{min-width:42px;text-align:center;font-weight:700;color:var(--accent);line-height:1.2}
        .cal-upcoming-date .cal-month{font-size:0.65rem;text-transform:uppercase;color:var(--muted)}
        .cal-upcoming-info{flex:1}
        .cal-upcoming-title{font-weight:600;color:#fff;font-size:0.82rem}
        .cal-upcoming-meta{font-size:0.72rem;color:var(--muted)}
        /* ═══ HUB TOOL PANELS ═══ */
        .hub-tool-card{background:var(--card);border:1px solid var(--border);border-radius:3px;padding:16px;margin-bottom:12px}
        .hub-tool-header{display:flex;align-items:center;gap:10px;margin-bottom:12px}
        .hub-tool-header h4{margin:0;font-size:1rem;font-weight:700;color:var(--accent)}
        .hub-tool-header .tool-link{font-size:0.78rem;color:var(--muted);margin-left:auto;cursor:pointer;transition:color 0.2s;text-decoration:none}
        .hub-tool-header .tool-link:hover{color:var(--accent)}
        /* ═══ AUDIT VAULT ═══ */
        .vault-record{background:var(--card);border:1px solid var(--border);border-radius:3px;padding:14px;margin-bottom:10px;transition:all 0.3s cubic-bezier(.4,0,.2,1);position:relative;overflow:hidden;contain:content}
        .vault-record::before{content:'';position:absolute;left:0;top:0;bottom:0;width:3px;background:linear-gradient(180deg,var(--accent),var(--green));border-radius:3px 0 0 3px;z-index:1}
        .vault-record:hover{border-color:var(--accent);transform:translateY(-2px);box-shadow:0 8px 25px rgba(0,170,255,0.12)}
        .vault-record .vault-hash{font-family:monospace;font-size:0.72rem;color:var(--accent);word-break:break-all;background:rgba(0,170,255,0.06);padding:6px 10px;border-radius:3px;margin:8px 0}
        .vault-record .vault-meta{display:flex;flex-wrap:wrap;gap:8px;font-size:0.75rem;color:var(--muted)}
        .vault-record .vault-meta span{display:flex;align-items:center;gap:4px}
        .vault-badge{font-size:0.68rem;padding:2px 8px;border-radius:3px;font-weight:700;letter-spacing:0.3px}
        .vault-badge.verified{background:rgba(0,170,255,0.06);color:#00aaff;border:1px solid rgba(0,170,255,0.3)}
        .vault-badge.anchored{background:rgba(0,170,255,0.12);color:var(--accent);border:1px solid rgba(0,170,255,0.3)}
        .vault-stats{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:10px;margin-bottom:16px}
        .vault-stat{background:var(--surface);border:1px solid var(--border);border-radius:3px;padding:14px;text-align:center;transition:all 0.3s}
        .vault-stat:hover{border-color:var(--accent);background:rgba(0,170,255,0.04)}
        .vault-stat .stat-val{font-size:1.4rem;font-weight:800;background:linear-gradient(135deg,var(--accent),var(--green));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
        .vault-stat .stat-lbl{font-size:0.7rem;text-transform:uppercase;letter-spacing:0.5px;color:var(--muted);margin-top:4px}
        /* ═══ DOC LIBRARY ═══ */
        .doc-card{background:var(--card);border:1px solid var(--border);border-radius:3px;padding:14px;margin-bottom:8px;transition:all 0.3s cubic-bezier(.4,0,.2,1);cursor:pointer;position:relative}
        .doc-card:hover{border-color:var(--accent);transform:translateX(4px);box-shadow:0 4px 20px rgba(0,170,255,0.08)}
        .doc-card .doc-id{font-weight:800;color:#fff;font-size:0.88rem;margin-bottom:2px}
        .doc-card .doc-title{font-size:0.82rem;color:var(--accent);margin-bottom:4px}
        .doc-card .doc-desc{font-size:0.75rem;color:var(--muted);line-height:1.4}
        .doc-card .doc-tags{display:flex;gap:6px;margin-top:8px;flex-wrap:wrap}
        .doc-tag{font-size:0.65rem;padding:2px 8px;border-radius:3px;font-weight:600}
        .doc-filter-bar{display:flex;flex-wrap:wrap;gap:6px;margin-bottom:14px}
        .doc-filter-btn{background:var(--surface);border:1px solid var(--border);border-radius:3px;padding:6px 12px;font-size:0.75rem;font-weight:600;cursor:pointer;color:var(--steel);transition:all 0.2s;font-family:inherit}
        .doc-filter-btn:hover{border-color:var(--accent);color:var(--accent)}
        .doc-filter-btn.active{background:linear-gradient(135deg,var(--accent),#0088cc);color:#fff;border-color:transparent}
        .doc-counter{font-size:0.78rem;color:var(--muted);margin-bottom:12px}
        /* ═══ COMPLIANCE SCORECARD ═══ */
        .score-ring{width:120px;height:120px;position:relative;margin:0 auto 12px}
        .score-ring svg{transform:rotate(-90deg)}
        .score-ring .score-val{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:1.6rem;font-weight:800;color:#fff}
        
        /* Persistent SLS Balance Bar — replaces flow box when in tabs */
        #slsBalanceBar{display:flex;background:linear-gradient(135deg,rgba(0,170,255,0.08),rgba(201,168,76,0.06));border:1px solid rgba(0,170,255,0.18);border-radius:3px;padding:14px 20px;margin:0 0 20px;align-items:center;justify-content:space-between;gap:12px;font-size:0.82rem;transition:all 0.3s}
        #slsBalanceBar .sls-stat{display:flex;align-items:center;gap:6px}
        #slsBalanceBar .sls-stat-val{font-weight:700;color:#c9a84c}
        #slsBalanceBar .sls-stat-label{color:var(--steel);font-size:0.72rem}
        #slsBalanceBar .sls-expand-btn{background:none;border:1px solid rgba(0,170,255,0.2);color:var(--accent);padding:4px 12px;border-radius:3px;font-size:0.72rem;cursor:pointer;transition:all 0.2s}
        #slsBalanceBar .sls-expand-btn:hover{background:rgba(0,170,255,0.1);border-color:var(--accent)}

        .score-ring .score-grade{display:none}
        .compliance-row{display:flex;align-items:center;gap:12px;padding:12px;background:var(--surface);border:1px solid var(--border);border-radius:3px;margin-bottom:8px;transition:all 0.3s}
        .compliance-row:hover{border-color:var(--accent);background:rgba(0,170,255,0.03)}
        .compliance-bar{flex:1;height:8px;background:var(--border);border-radius:4px;overflow:hidden;position:relative}
        .compliance-bar .fill{height:100%;border-radius:4px;transition:width 1s cubic-bezier(.4,0,.2,1)}
        .compliance-label{min-width:140px;font-size:0.82rem;font-weight:600;color:#fff}
        .compliance-pct{min-width:50px;text-align:right;font-size:0.85rem;font-weight:700}
        /* ═══ ENHANCED UX — GLASSMORPHISM, MICRO-ANIMATIONS ═══ */
        @keyframes slideUp{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}
        @keyframes shimmer{0%{background-position:-200% 0}100%{background-position:200% 0}}
        @keyframes pulseGlow{0%,100%{box-shadow:0 0 5px rgba(0,170,255,0.2)}50%{box-shadow:0 0 20px rgba(0,170,255,0.4)}}
        @keyframes countUp{from{opacity:0;transform:scale(0.5)}to{opacity:1;transform:scale(1)}}
        .glass-card{background:rgba(15,22,48,0.7);backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);border:1px solid rgba(0,170,255,0.15);border-radius:3px;padding:20px;transition:all 0.4s cubic-bezier(.4,0,.2,1)}
        .glass-card:hover{border-color:rgba(0,170,255,0.4);box-shadow:0 8px 32px rgba(0,170,255,0.15)}
        .pulse-dot{width:8px;height:8px;border-radius:50%;background:var(--green);display:inline-block;animation:pulseGlow 2s infinite;margin-right:6px}
        .shimmer-text{color:var(--accent);font-weight:700}
        .stat-animate{animation:countUp 0.6s cubic-bezier(.4,0,.2,1) forwards}
        .hover-lift{transition:all 0.3s cubic-bezier(.4,0,.2,1)}.hover-lift:hover{transform:translateY(-3px);box-shadow:0 12px 35px rgba(0,0,0,0.3)}
        .gradient-border{border:1px solid var(--border)!important}
        .workspace-notification{position:fixed;bottom:20px;right:20px;background:rgba(15,22,48,0.95);backdrop-filter:blur(12px);border:1px solid var(--accent);border-radius:3px;padding:14px 20px;color:#fff;font-size:0.85rem;z-index:10000;animation:slideUp 0.4s ease;box-shadow:0 8px 30px rgba(0,170,255,0.2);max-width:360px}
        .workspace-notification .notif-close{position:absolute;top:6px;right:10px;background:none;border:none;color:var(--muted);cursor:pointer;font-size:0.9rem}
        .tooltip-enhanced{position:relative}.tooltip-enhanced::after{content:attr(data-tip);position:absolute;bottom:calc(100% + 8px);left:50%;transform:translateX(-50%) scale(0.8);opacity:0;background:rgba(15,22,48,0.95);border:1px solid var(--accent);color:#fff;padding:6px 12px;border-radius:3px;font-size:0.72rem;white-space:nowrap;pointer-events:none;transition:all 0.2s;z-index:999}
        .tooltip-enhanced:hover::after{opacity:1;transform:translateX(-50%) scale(1)}
        @media(max-width:768px){.ils-hub-tabs{gap:2px}.ils-hub-tab{padding:6px 10px;font-size:0.72rem}.cal-day{min-height:50px}.vault-stats{grid-template-columns:repeat(2,1fr)}.compliance-label{min-width:100px;font-size:0.75rem}}
    .active-link{color:#00aaff !important;font-weight:600 !important;}

        #dropZone.drag-over{border-color:var(--accent)!important;background:rgba(0,170,255,0.08)!important;box-shadow:0 0 20px rgba(0,170,255,0.15)}
    
        /* ── Unified Select/Dropdown Styling ── */
        select, .form-select, .form-control {
            background: var(--surface) !important;
            color: #fff !important;
            border: 1px solid rgba(255,255,255,0.18) !important;
            border-radius: 3px !important;
            padding: 8px 12px !important;
            font-family: inherit !important;
            font-size: 0.85rem !important;
            appearance: none !important;
            -webkit-appearance: none !important;
            background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='%238ea4b8' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m2 5 6 6 6-6'/%3e%3c/svg%3e") !important;
            background-repeat: no-repeat !important;
            background-position: right 10px center !important;
            background-size: 12px !important;
            padding-right: 32px !important;
            cursor: pointer;
            transition: border-color 0.2s, box-shadow 0.2s;
        }
        input[type="text"], input[type="number"], input[type="email"], input[type="password"], input[type="search"], textarea {
            border: 1px solid rgba(255,255,255,0.18) !important;
        }
        input::placeholder, textarea::placeholder, .form-control::placeholder, .form-select::placeholder {
            color: rgba(255,255,255,0.45) !important;
            opacity: 1 !important;
        }
        select:focus, .form-select:focus, .form-control:focus {
            border-color: var(--accent) !important;
            box-shadow: 0 0 0 2px rgba(0,170,255,0.15) !important;
            outline: none !important;
        }
        select option, .form-select option {
            background: var(--surface);
            color: #fff;
        }


        .ils-hub-panel .s4-card{border:1px solid var(--border);border-radius:3px;background:var(--card);padding:20px 24px}
        .ils-hub-panel .s4-card h3{font-size:1rem;font-weight:700;color:#fff;margin-bottom:14px;display:flex;align-items:center;gap:8px}
        .ils-hub-panel .s4-card h3 i{color:var(--accent);font-size:0.9rem}
        .ils-hub-panel .form-control,.ils-hub-panel select,.ils-hub-panel .form-select{background:var(--surface);border:1px solid rgba(255,255,255,0.18);color:#fff;border-radius:3px;padding:8px 12px;font-size:0.85rem;font-family:inherit}
        .ils-hub-panel .form-control:focus,.ils-hub-panel select:focus{border-color:var(--accent);outline:none;box-shadow:0 0 0 2px rgba(0,170,255,0.15)}
        .ils-hub-panel label{color:var(--steel);font-size:0.78rem;font-weight:600;text-transform:uppercase;letter-spacing:0.5px;margin-bottom:4px}
    
        
        .s4-card:hover{border-color:var(--border-hover)}
        .stat-card:hover{border-color:var(--border-hover);box-shadow:0 4px 20px rgba(0,0,0,0.15)}
        .record-type-btn{transition:all var(--transition)}
        .branch-tab{transition:all var(--transition)}
        select,input,textarea{transition:border-color var(--transition),box-shadow var(--transition)}
        .container{max-width:1200px;margin:0 auto;padding:0 24px}
        
        #platformLanding .col-md-4 > div{transition:all var(--transition)}
        #platformLanding .col-md-4 > div:hover{border-color:var(--border-hover);transform:translateY(-2px);box-shadow:0 8px 30px rgba(0,0,0,0.2)}
        @keyframes slsToastIn{from{opacity:0;transform:translateX(40px)}to{opacity:1;transform:translateX(0)}}
        @keyframes slsToastOut{from{opacity:1;transform:translateX(0)}to{opacity:0;transform:translateX(40px)}}

        /* ═══ Platform Hub ═══ */
        .platform-hub { max-width:1100px; margin:0 auto; padding:0 20px; }
        .hub-header { text-align:center; margin-bottom:32px; padding-top:8px; }
        .hub-header h2 { font-size:1.5rem; font-weight:800; color:#fff; margin-bottom:6px; }
        .hub-header p { color:var(--steel); font-size:0.88rem; max-width:600px; margin:0 auto; }
        .hub-grid { display:grid; grid-template-columns:repeat(2, 1fr); gap:18px; margin-bottom:28px; }
        @media(max-width:640px){ .hub-grid{grid-template-columns:1fr !important;}  }
        .hub-card { background:linear-gradient(145deg, var(--card), rgba(0,170,255,0.015)); border:1px solid var(--border); border-radius:3px; padding:26px 24px; cursor:pointer; transition:all 0.28s; position:relative; overflow:hidden; counter-increment:hubcard; }
        .hub-card:hover { border-color:var(--accent); transform:translateY(-3px); box-shadow:0 8px 30px rgba(0,170,255,0.12); }
        .hub-card .hc-icon { width:48px; height:48px; border-radius:3px; display:flex; align-items:center; justify-content:center; margin-bottom:14px; font-size:1.2rem; }
        .hub-card .hc-title { font-size:1rem; font-weight:700; color:#fff; margin-bottom:6px; }
        .hub-card .hc-desc { font-size:0.82rem; color:var(--steel); line-height:1.5; margin-bottom:10px; }
        .hub-card .hc-meta { font-size:0.72rem; color:var(--muted); display:flex; align-items:center; gap:6px; }
        .hub-card .hc-arrow { position:absolute; top:24px; right:20px; color:var(--muted); font-size:0.9rem; transition:all 0.2s; }
        .hub-card:hover .hc-arrow { color:var(--accent); transform:translateX(3px); }

        /* ═══ Sub-page Navigation ═══ */
        .subpage-back { display:flex; align-items:center; gap:10px; margin-bottom:16px; padding:10px 0; }
        .subpage-back .back-btn { background:rgba(0,170,255,0.08); border:1px solid rgba(0,170,255,0.2); color:var(--accent); border-radius:3px; padding:6px 14px; font-size:0.8rem; font-weight:600; cursor:pointer; transition:all 0.2s; font-family:inherit; display:flex; align-items:center; gap:6px; }
        .subpage-back .back-btn:hover { background:rgba(0,170,255,0.15); border-color:var(--accent); }
        .subpage-back .breadcrumb-text { font-size:0.82rem; color:var(--muted); }
        .subpage-back .breadcrumb-text span { color:var(--accent); }
        .section-view { display:none; animation:fadeIn 0.3s ease; }
        .section-view.active { display:block; }
        @keyframes fadeIn { from{opacity:0;transform:translateY(8px)} to{opacity:1;transform:translateY(0)} }

        /* ═══ Compact Stat Strip ═══ */
        .stat-strip { display:flex; align-items:center; justify-content:center; gap:24px; padding:8px 16px; background:var(--surface); border:1px solid var(--border); border-radius:3px; margin-bottom:16px; flex-wrap:wrap; }
        .stat-strip .ss-item { display:flex; align-items:center; gap:6px; font-size:0.78rem; }
        .stat-strip .ss-val { font-weight:800; color:var(--accent); font-size:0.88rem; }
        .stat-strip .ss-label { color:var(--muted); text-transform:uppercase; font-size:0.68rem; letter-spacing:0.5px; }

        /* ═══ Wallet Sidebar ═══ */
        .wallet-sidebar { position:fixed; top:0; right:-420px; width:400px; max-width:90vw; height:100vh; background:var(--bg); border-left:1px solid var(--border); box-shadow:-10px 0 40px rgba(0,0,0,0.4); z-index:9999; overflow:hidden; transition:right 0.35s cubic-bezier(0.4,0,0.2,1); padding:0; display:flex; flex-direction:column; }
        .wallet-sidebar.open { right:0; }
        .wallet-sidebar-header { display:flex; align-items:center; justify-content:space-between; padding:16px 20px; border-bottom:1px solid var(--border); position:sticky; top:0; background:var(--bg); z-index:1; }
        .wallet-sidebar-header h3 { font-size:1.1rem; font-weight:800; color:#fff; margin:0; display:flex; align-items:center; gap:8px; }
        .wallet-sidebar-close { background:rgba(201,168,76,0.1); border:1px solid rgba(201,168,76,0.2); color:#c9a84c; border-radius:3px; padding:6px 12px; font-size:0.8rem; cursor:pointer; font-family:inherit; }
        .wallet-sidebar-close:hover { background:rgba(201,168,76,0.2); }
        .wallet-sidebar-body { padding:20px; overflow-y:auto; flex:1; min-height:0; padding-bottom:40px; }
        .wallet-overlay { display:none; position:fixed; top:0; left:0; right:0; bottom:0; background:rgba(0,0,0,0.5); z-index:9998; }
        .wallet-overlay.show { display:block; }
        .wallet-trigger { background:linear-gradient(135deg,rgba(26,58,92,0.3),rgba(0,170,255,0.1)); border:1px solid rgba(0,170,255,0.3); color:var(--accent); border-radius:3px; padding:8px 16px; font-size:0.82rem; font-weight:700; cursor:pointer; font-family:inherit; display:flex; align-items:center; gap:8px; transition:all 0.2s; }
        .wallet-trigger:hover { background:rgba(0,170,255,0.15); border-color:var(--accent); }
        .wallet-trigger .wt-bal { color:#c9a84c; font-weight:800; }

        /* ═══ ILS Sub-Hub Cards ═══ */
        .ils-sub-hub { display:grid; grid-template-columns:repeat(auto-fit, minmax(240px, 1fr)); gap:14px; margin-bottom:20px; }
        .ils-tool-card { background:var(--card); border:1px solid var(--border); border-radius:3px; padding:16px 18px; cursor:pointer; transition:all 0.25s cubic-bezier(0.25,0.1,0.25,1); display:flex; align-items:flex-start; gap:12px; }
        .ils-tool-card:hover { border-color:var(--accent); background:rgba(0,170,255,0.04); transform:translateY(-2px); box-shadow:0 4px 16px rgba(0,170,255,0.06); }
        .ils-tool-card .itc-icon { font-size:1.1rem; flex-shrink:0; width:36px; height:36px; border-radius:3px; background:rgba(0,170,255,0.06); display:flex; align-items:center; justify-content:center; }
        .ils-tool-card .itc-title { font-size:0.85rem; font-weight:700; color:#fff; margin-bottom:3px; }
        .ils-tool-card .itc-desc { font-size:0.73rem; color:var(--steel); line-height:1.5; }
        .ils-sub-hub { display:grid; grid-template-columns:repeat(auto-fill, minmax(260px, 1fr)); gap:10px; }

        /* ═══ APPLE-STYLE UI MODERNIZATION ═══ */
        /* Pure black canvas, cleaner surfaces, refined typography */
        body { background:var(--bg,#000); letter-spacing:-0.01em; }
        
        /* Refined card/panel surfaces — subtle glass effect */
        .s4-card, .glass-card { 
            background:rgba(18,18,18,0.8) !important; 
            backdrop-filter:blur(20px); -webkit-backdrop-filter:blur(20px); 
            border:1px solid rgba(255,255,255,0.06) !important; 
            border-radius:3px !important;
        }
        
        /* Hub cards — cleaner, more spacious */
        .hub-card { 
            background:rgba(18,18,18,0.6); 
            border:1px solid rgba(255,255,255,0.06); 
            border-radius:3px; 
            padding:28px 26px; 
            backdrop-filter:blur(20px); -webkit-backdrop-filter:blur(20px);
        }
        .hub-card:hover { 
            border-color:rgba(0,170,255,0.25); 
            background:rgba(0,170,255,0.04); 
            box-shadow:0 12px 40px rgba(0,170,255,0.08);
        }
        
        /* Tool cards — subtler surfaces */
        .ils-tool-card {
            background:rgba(18,18,18,0.6);
            border:1px solid rgba(255,255,255,0.05);
            border-radius:3px;
            backdrop-filter:blur(12px); -webkit-backdrop-filter:blur(12px);
        }
        .ils-tool-card:hover {
            border-color:rgba(0,170,255,0.2);
            box-shadow:0 8px 24px rgba(0,170,255,0.06);
        }
        
        /* Nav pills — cleaner active states */
        .nav-pills .nav-link {
            background:rgba(255,255,255,0.04);
            border:1px solid rgba(255,255,255,0.06);
            border-radius:100px;
            font-weight:500;
            font-size:0.84rem;
            letter-spacing:-0.005em;
        }
        .nav-pills .nav-link.active {
            background:var(--accent) !important;
            border-color:transparent !important;
            box-shadow:none !important;
            font-weight:600;
        }
        
        /* Buttons — Apple-style solid fills */
        .btn-accent {
            background:var(--accent);
            border-radius:100px;
            padding:0.6rem 1.8rem;
            font-weight:600;
            font-size:0.9rem;
            letter-spacing:-0.005em;
            transition:all 0.25s;
        }
        .btn-accent:hover {
            filter:brightness(1.1);
            transform:translateY(-1px);
            box-shadow:0 6px 20px rgba(0,170,255,0.25);
        }
        
        /* Inputs — refined, subtle */
        select, input, textarea {
            background:rgba(255,255,255,0.04) !important;
            border:1px solid rgba(255,255,255,0.08) !important;
            border-radius:3px !important;
            font-size:0.88rem !important;
            transition:border-color 0.2s, box-shadow 0.2s, background 0.2s;
        }
        select:focus, input:focus, textarea:focus {
            background:rgba(255,255,255,0.06) !important;
            border-color:rgba(0,170,255,0.4) !important;
            box-shadow:0 0 0 4px rgba(0,170,255,0.08) !important;
        }
        
        /* Stat strip — cleaner */
        .stat-strip {
            background:rgba(255,255,255,0.02);
            border:1px solid rgba(255,255,255,0.05);
            border-radius:3px;
            backdrop-filter:blur(12px); -webkit-backdrop-filter:blur(12px);
        }
        
        /* Section headings — Apple-level typography */
        .hero h1 {
            font-size:2.8rem;
            font-weight:700;
            letter-spacing:-0.04em;
            line-height:1.05;
        }
        .hero p {
            font-size:1.1rem;
            color:var(--steel);
            font-weight:400;
            line-height:1.7;
        }
        
        /* Hub header — more breathing room */
        .hub-header h2 {
            font-size:1.7rem;
            font-weight:700;
            letter-spacing:-0.03em;
        }
        .hub-header p {
            font-size:0.9rem;
            color:var(--steel);
        }
        
        /* Tool panel headers — cleaner */
        .hub-tool-header h4 {
            font-size:1rem;
            font-weight:700;
            letter-spacing:-0.02em;
        }
        
        /* Landing feature cards — Apple grid style */
        #platformLanding .col-md-4 > div {
            background:rgba(18,18,18,0.6) !important;
            border:1px solid rgba(255,255,255,0.06) !important;
            border-radius:3px !important;
            backdrop-filter:blur(20px); -webkit-backdrop-filter:blur(20px);
            transition:all 0.3s;
        }
        #platformLanding .col-md-4 > div:hover {
            border-color:rgba(0,170,255,0.2) !important;
            transform:translateY(-4px);
            box-shadow:0 12px 40px rgba(0,170,255,0.08);
        }
        
        /* Scrollbars — minimal */
        ::-webkit-scrollbar { width:6px; }
        ::-webkit-scrollbar-track { background:transparent; }
        ::-webkit-scrollbar-thumb { background:rgba(255,255,255,0.1); border-radius:3px; }
        ::-webkit-scrollbar-thumb:hover { background:rgba(255,255,255,0.2); }
        
        /* Details/summary — cleaner toggles */
        details { border-radius:3px !important; }
        details summary { font-size:0.84rem; }
        
        /* ILS hub tab buttons — pill style */
        .ils-hub-tab {
            border-radius:100px !important;
            font-size:0.78rem;
            letter-spacing:-0.005em;
        }
        
        /* Result panels — subtle */
        .result-panel {
            background:rgba(255,255,255,0.02);
            border:1px solid rgba(255,255,255,0.06);
            border-radius:3px;
        }

        /* ═══ LIGHT MODE — Apple-style component overrides ═══ */
        body.light-mode .s4-card,body.light-mode .glass-card{background:rgba(255,255,255,0.9)!important;border:1px solid rgba(0,0,0,0.08)!important;box-shadow:0 1px 3px rgba(0,0,0,0.06)}
        body.light-mode .hub-card{background:rgba(255,255,255,0.8)!important;border:1px solid rgba(0,0,0,0.08)!important;box-shadow:0 1px 3px rgba(0,0,0,0.04)}
        body.light-mode .hub-card:hover{border-color:rgba(0,119,204,0.3)!important;background:rgba(0,119,204,0.04)!important;box-shadow:0 12px 40px rgba(0,119,204,0.1)}
        body.light-mode .hub-card .hc-title{color:#1d1d1f}
        body.light-mode .ils-tool-card{background:rgba(255,255,255,0.8)!important;border:1px solid rgba(0,0,0,0.06)!important;box-shadow:0 1px 2px rgba(0,0,0,0.04)}
        body.light-mode .ils-tool-card:hover{border-color:rgba(0,119,204,0.25)!important;box-shadow:0 8px 24px rgba(0,119,204,0.08)}
        body.light-mode .ils-tool-card h4,body.light-mode .ils-tool-card strong{color:#1d1d1f!important}
        body.light-mode .ils-tool-card .itc-title{color:#1d1d1f!important}
        body.light-mode .ils-tool-card .itc-desc{color:#555!important}
        body.light-mode .ils-tool-card p,body.light-mode .ils-tool-card .desc{color:#555!important}
        body.light-mode #platformLanding .col-md-4 > div{background:rgba(255,255,255,0.8)!important;border:1px solid rgba(0,0,0,0.08)!important;box-shadow:0 1px 3px rgba(0,0,0,0.04)}
        body.light-mode #platformLanding .col-md-4 > div:hover{border-color:rgba(0,119,204,0.25)!important;box-shadow:0 12px 40px rgba(0,119,204,0.08)}
        body.light-mode #platformLanding h4{color:#1d1d1f!important}
        body.light-mode .nav-pills .nav-link{background:rgba(0,0,0,0.04)!important;border-color:rgba(0,0,0,0.08)!important;color:#555!important}
        body.light-mode .stat-strip{background:rgba(0,0,0,0.02)!important;border-color:rgba(0,0,0,0.06)!important}
        body.light-mode .result-panel{background:#f8f8fa!important;border-color:rgba(0,0,0,0.08)!important;color:#1d1d1f!important}
        body.light-mode .vault-record{background:#fff!important;border-color:rgba(0,0,0,0.08)!important}
        body.light-mode .vault-record strong{color:#1d1d1f!important}
        body.light-mode .vault-hash{background:rgba(0,119,204,0.04)!important;color:#1d1d1f!important}
        body.light-mode .vault-meta{color:#555!important}
        body.light-mode .vault-meta span{color:#555!important}
        body.light-mode .vault-badge{color:#1d1d1f}
        body.light-mode #anchorOverlay{background:rgba(240,240,245,0.95)!important}
        body.light-mode .onboard-overlay{background:rgba(240,240,245,0.97)!important}
        body.light-mode .modal-overlay{background:rgba(240,240,245,0.92)!important}
        body.light-mode .brand-text{color:#1d1d1f!important}
        body.light-mode .nav-link{color:#1d1d1f!important}
        body.light-mode .nav-link:hover,body.light-mode .nav-link.active{color:var(--accent)!important}
        body.light-mode h1,body.light-mode h2,body.light-mode h3,body.light-mode h4,body.light-mode h5{color:#1d1d1f}
        body.light-mode .hub-header h2{color:#1d1d1f}
        body.light-mode .hub-card .hc-desc{color:#555!important}
        body.light-mode details summary{color:#1d1d1f!important}
        body.light-mode .s4-card h3,body.light-mode .s4-card h4{color:#1d1d1f!important}
        body.light-mode .s4-card p{color:#555!important}
        body.light-mode .back-btn{color:var(--accent)!important}
        body.light-mode #dodConsentBanner > div{background:#fff!important;border-color:rgba(0,119,204,0.3)!important;box-shadow:0 20px 60px rgba(0,0,0,0.15)!important}
        body.light-mode #dodConsentBanner h2{color:var(--accent)!important}
        body.light-mode #dodConsentBanner p,body.light-mode #dodConsentBanner li{color:#555!important}
        body.light-mode #cacLoginModal > div{background:#fff!important;border-color:rgba(0,0,0,0.1)!important;box-shadow:0 20px 60px rgba(0,0,0,0.15)!important}
        body.light-mode #cacLoginModal h3{color:#1d1d1f!important}
        body.light-mode #cacLoginModal label{color:#555!important}
        body.light-mode select:not([style*="background:linear"]),body.light-mode input:not([type="checkbox"]):not([type="radio"]):not([style*="background:linear"]),body.light-mode textarea{background:#f8f8fa!important;color:#1d1d1f!important;border-color:rgba(0,0,0,0.12)!important}
        body.light-mode select:focus,body.light-mode input:focus,body.light-mode textarea:focus{background:#fff!important;border-color:rgba(0,119,204,0.4)!important;box-shadow:0 0 0 4px rgba(0,119,204,0.08)!important}
        /* Light mode scrollbars */
        body.light-mode ::-webkit-scrollbar-thumb{background:rgba(0,0,0,0.15)!important}
        body.light-mode ::-webkit-scrollbar-thumb:hover{background:rgba(0,0,0,0.25)!important}
        body.light-mode ::-webkit-scrollbar-track{background:rgba(0,0,0,0.02)!important}
        /* Light mode semi-transparent white buttons (invisible on white) */
        body.light-mode [style*="background:rgba(255,255,255,0.0"]{background:rgba(0,0,0,0.04)!important}
        body.light-mode [style*="background: rgba(255,255,255,0.0"]{background:rgba(0,0,0,0.04)!important}
        body.light-mode [style*="border:1px solid rgba(255,255,255"]{border-color:rgba(0,0,0,0.1)!important}
        body.light-mode [style*="border: 1px solid rgba(255,255,255"]{border-color:rgba(0,0,0,0.1)!important}
        body.light-mode [style*="border-bottom:1px solid rgba(255,255,255"]{border-bottom-color:rgba(0,0,0,0.06)!important}
        /* Light mode color overrides for common inline patterns */
        body.light-mode [style*="color:#ccc"]{color:#555!important}
        body.light-mode [style*="color: #ccc"]{color:#555!important}
        body.light-mode [style*="color:#888"]{color:#666!important}
        body.light-mode [style*="color: #888"]{color:#666!important}
        body.light-mode [style*="color:#aaa"]{color:#666!important}
        body.light-mode [style*="color: #aaa"]{color:#666!important}
        /* Additional dark background overrides for light mode */
        body.light-mode [style*="background:rgba(0,0,0,0.6"]{background:rgba(0,0,0,0.3)!important}
        body.light-mode [style*="background: rgba(0,0,0,0.6"]{background:rgba(0,0,0,0.3)!important}
        body.light-mode [style*="background:rgba(0,0,0,0.5"]{background:rgba(0,0,0,0.25)!important}
        body.light-mode [style*="background: rgba(0,0,0,0.5"]{background:rgba(0,0,0,0.25)!important}
        body.light-mode [style*="background:#1a3a5c"]{background:#e8f0f8!important}
        body.light-mode [style*="background: #1a3a5c"]{background:#e8f0f8!important}
        body.light-mode [style*="background:rgba(10,10,15"]{background:rgba(240,240,245,0.95)!important}
        body.light-mode [style*="background: rgba(10,10,15"]{background:rgba(240,240,245,0.95)!important}
        body.light-mode [style*="background:rgba(12,16,28"]{background:rgba(240,240,245,0.98)!important}
        body.light-mode [style*="background:rgba(18,22,38"]{background:rgba(240,240,245,0.98)!important}
        body.light-mode #itarBanner{background:rgba(245,245,247,0.95)!important;color:#555!important;border-bottom-color:rgba(0,0,0,0.06)!important}
        body.light-mode #itarBanner a{color:#0077cc!important}
        /* Light-mode fixes for common dark text colors */
        body.light-mode [style*="color:#e0e0e0"]{color:#333!important}
        body.light-mode [style*="color: #e0e0e0"]{color:#333!important}
        body.light-mode [style*="color:#d1d5db"]{color:#444!important}
        body.light-mode [style*="color: #d1d5db"]{color:#444!important}
        body.light-mode [style*="color:#8b8fa3"]{color:#666!important}
        body.light-mode [style*="color: #8b8fa3"]{color:#666!important}
        /* Wallet sidebar header */
        body.light-mode .wallet-sidebar-header h3{color:#1d1d1f!important}
        body.light-mode .wallet-sidebar{background:#fff!important;border-color:rgba(0,0,0,0.1)!important}
        body.light-mode .wallet-sidebar *{color:#1d1d1f}
        body.light-mode .wallet-sidebar .wallet-balance{color:#1d1d1f!important}
        /* Mobile navbar collapse */
        @media(max-width:991px){body.light-mode .navbar-collapse,body.light-mode #navLinks{background:rgba(255,255,255,0.98)!important;border-color:rgba(0,0,0,0.06)!important}}
        /* Gradient text (hero headings) */
        body.light-mode .gradient-text{color:#1d1d1f}
        /* ILS action titles */
        body.light-mode .ils-action-item .action-title{color:#1d1d1f!important}
        /* ILS coverage row dividers */
        body.light-mode .ils-coverage-row{border-bottom-color:rgba(0,0,0,0.06)!important}
        /* Tour tooltip buttons */
        body.light-mode .s4-tour-tooltip button,[data-theme="light"] .s4-tour-tooltip button{color:#1d1d1f!important;border-color:rgba(0,0,0,0.15)!important}
        body.light-mode .s4-tour-tooltip button:hover,[data-theme="light"] .s4-tour-tooltip button:hover{background:rgba(0,0,0,0.06)!important}
        /* Activity feed strong text */
        body.light-mode .s4-activity-item .act-text strong,[data-theme="light"] .s4-activity-item .act-text strong{color:#1d1d1f!important}
        /* HIW close button hover */
        body.light-mode .hiw-close:hover,[data-theme="light"] .hiw-close:hover{color:#1d1d1f!important}
        /* Avatar dark borders */
        body.light-mode [style*="border:2px solid #0a0e1a"]{border-color:rgba(0,0,0,0.1)!important}
        body.light-mode [style*="border: 2px solid #0a0e1a"]{border-color:rgba(0,0,0,0.1)!important}
        /* Command palette light mode */
        body.light-mode .s4-command-palette{background:#fff!important;border-color:rgba(0,0,0,0.1)!important;color:#1d1d1f!important}
        body.light-mode .s4-command-palette input{background:#f8f8fa!important;color:#1d1d1f!important;border-color:rgba(0,0,0,0.1)!important}
        body.light-mode .s4-command-palette .cmd-item:hover{background:rgba(0,119,204,0.06)!important}

        /* ═══ PRINT STYLES — Optimized for Auditor Print-Outs ═══ */
        @media print {
            *{color:#000!important;background:transparent!important;box-shadow:none!important;text-shadow:none!important}
            body{background:#fff!important;font-size:11pt;line-height:1.5;overflow:visible!important}
            nav,.navbar-custom,.footer,.ai-float-btn,.ai-float-panel,#s4ToastContainer,.notif-bell,.theme-toggle,#slsBalanceBar,.modal-overlay,.btn,.hover-lift,button:not(.no-print-hide),.record-type-btn,.ils-hub-tabs,.branch-tab-container,#scrollProgress,.clf-banner,.onboard-modal,.onboard-overlay,details summary::marker,.post-action-bar,.vault-stats .hover-lift:hover{display:none!important}
            .hero,.tab-content,.tab-pane,.ils-hub-panel{display:block!important;visibility:visible!important;position:static!important;overflow:visible!important;height:auto!important;max-height:none!important;opacity:1!important}
            .tab-pane{page-break-inside:avoid;margin-bottom:20pt}
            .vault-record{border:1px solid #ccc!important;padding:8pt!important;margin-bottom:8pt!important;page-break-inside:avoid}
            .vault-hash{font-family:'Courier New',monospace!important;font-size:8pt!important;word-break:break-all;color:#333!important}
            .vault-badge{border:1px solid #999!important;padding:2pt 6pt!important;font-size:7pt!important}
            .vault-meta{font-size:8pt!important;color:#555!important}
            table{border-collapse:collapse!important;width:100%!important}
            table th,table td{border:1px solid #ccc!important;padding:4pt 8pt!important;font-size:9pt!important;text-align:left!important}
            table th{background:#f0f0f0!important;font-weight:700!important}
            .s4-card,.glass-card{border:1px solid #ddd!important;padding:12pt!important;margin-bottom:12pt!important;page-break-inside:avoid}
            .stat-card,.stat-mini{border:1px solid #ccc!important;padding:8pt!important;text-align:center}
            .stat-val,.stat-mini-val{font-size:14pt!important;font-weight:700!important}
            h1,h2,h3,h4,h5{color:#000!important;page-break-after:avoid}
            a[href]::after{content:" (" attr(href) ")";font-size:8pt;color:#666}
            a[href^="javascript:"]::after,a[href^="#"]::after{content:""}
            .result-panel{border:1px solid #ccc!important;padding:8pt!important}
            @page{margin:0.75in;size:letter}
            .print-header{display:block!important;text-align:center;border-bottom:2px solid #000;padding-bottom:8pt;margin-bottom:16pt}
            .print-header h2{font-size:16pt;font-weight:700}
            .print-header p{font-size:9pt;color:#555}
        }

        /* ═══ S4 UX ENHANCEMENT STYLES ═══ */
        /* Onboarding Tour */
        .s4-tour-overlay{position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(0,0,0,0.6);z-index:99990;display:none;transition:opacity .3s}
        .s4-tour-overlay.active{display:block}
        .s4-tour-highlight{position:absolute;z-index:99991;box-shadow:0 0 0 4px #00aaff,0 0 0 9999px rgba(0,0,0,0.5);border-radius:3px;transition:all .4s ease}
        .s4-tour-tooltip{position:absolute;z-index:99992;background:var(--bg-primary,#1d1d1f);border:1px solid var(--border-primary,#333);border-radius:3px;padding:20px 24px;max-width:340px;box-shadow:0 8px 32px rgba(0,0,0,0.4);color:var(--text-primary,#f5f5f7)}
        .s4-tour-tooltip h3{margin:0 0 8px;font-size:15px;font-weight:600;color:#00aaff}
        .s4-tour-tooltip p{margin:0 0 16px;font-size:13px;line-height:1.5;opacity:.85}
        .s4-tour-tooltip .s4-tour-actions{display:flex;justify-content:space-between;align-items:center;gap:8px}
        .s4-tour-tooltip .s4-tour-step{font-size:11px;opacity:.5}
        .s4-tour-tooltip button{padding:6px 16px;border-radius:3px;border:1px solid var(--border-primary,#333);background:transparent;color:var(--text-primary,#f5f5f7);font-size:12px;cursor:pointer;transition:background .2s}
        .s4-tour-tooltip button:hover{background:rgba(255,255,255,0.08)}
        .s4-tour-tooltip button.s4-tour-next{background:#00aaff;color:#000;border-color:#00aaff;font-weight:600}
        .s4-tour-tooltip button.s4-tour-next:hover{background:#0095e0}

        /* Command Palette */
        .s4-command-palette{position:fixed;top:15%;left:50%;transform:translateX(-50%);width:560px;max-width:90vw;z-index:99980;background:var(--bg-primary,#1d1d1f);border:1px solid var(--border-primary,#333);border-radius:3px;box-shadow:0 16px 64px rgba(0,0,0,0.5);display:none}
        .s4-command-palette.active{display:block}
        .s4-command-palette input{width:100%;padding:14px 20px;background:transparent;border:none;border-bottom:1px solid var(--border-primary,#333);color:var(--text-primary,#f5f5f7);font-size:15px;outline:none;box-sizing:border-box}
        .s4-command-palette input::placeholder{color:rgba(245,245,247,0.3)}
        .s4-command-list{max-height:360px;overflow-y:auto;padding:4px 0}
        .s4-command-item{padding:10px 20px;cursor:pointer;display:flex;align-items:center;gap:12px;transition:background .15s;font-size:13px;color:var(--text-primary,#f5f5f7)}
        .s4-command-item:hover,.s4-command-item.selected{background:rgba(0,170,255,0.12)}
        .s4-command-item .cmd-icon{width:20px;text-align:center;opacity:.5;font-size:14px}
        .s4-command-item .cmd-label{flex:1}
        .s4-command-item .cmd-shortcut{font-size:11px;opacity:.35;font-family:monospace}

        /* Breadcrumb Navigation */
        .s4-breadcrumbs{display:flex;align-items:center;gap:6px;padding:8px 16px;font-size:12px;border-bottom:1px solid var(--border-primary,#333);background:var(--bg-secondary,rgba(29,29,31,0.5))}
        .s4-breadcrumbs a{color:var(--text-secondary,#86868b);text-decoration:none;cursor:pointer;transition:color .2s}
        .s4-breadcrumbs a:hover{color:#00aaff}
        .s4-breadcrumbs .bc-sep{color:var(--text-tertiary,#555);font-size:10px}
        .s4-breadcrumbs .bc-current{color:var(--text-primary,#f5f5f7);font-weight:600}

        /* Favorites / Pinned Tools */
        .s4-favorites-bar{display:flex;flex-wrap:wrap;gap:6px;padding:10px 16px;border-bottom:1px solid var(--border-primary,#333);background:var(--bg-secondary,rgba(29,29,31,0.3))}
        .s4-fav-chip{padding:4px 12px;border-radius:3px;background:rgba(0,170,255,0.1);border:1px solid rgba(0,170,255,0.2);color:#00aaff;font-size:11px;font-weight:500;cursor:pointer;transition:all .2s;display:flex;align-items:center;gap:4px}
        .s4-fav-chip:hover{background:rgba(0,170,255,0.2);border-color:rgba(0,170,255,0.4)}
        .s4-fav-chip .fav-remove{opacity:0;font-size:9px;cursor:pointer;transition:opacity .2s}
        .s4-fav-chip:hover .fav-remove{opacity:.6}

        /* Recent Activity Feed */
        .s4-activity-feed{max-height:200px;overflow-y:auto;padding:8px 0}
        .s4-activity-item{display:flex;align-items:flex-start;gap:10px;padding:8px 16px;font-size:12px;border-bottom:1px solid var(--border-primary,rgba(51,51,51,0.3));transition:background .15s}
        .s4-activity-item:hover{background:rgba(255,255,255,0.02)}
        .s4-activity-item .act-icon{width:24px;height:24px;border-radius:50%;background:rgba(0,170,255,0.15);display:flex;align-items:center;justify-content:center;font-size:11px;flex-shrink:0}
        .s4-activity-item .act-text{flex:1;color:var(--text-secondary,#86868b);line-height:1.4}
        .s4-activity-item .act-text strong{color:var(--text-primary,#f5f5f7)}
        .s4-activity-item .act-time{font-size:10px;opacity:.4;white-space:nowrap}

        /* Notification Toast */
        .s4-toast-container{position:fixed;top:20px;right:20px;z-index:99970;display:flex;flex-direction:column;gap:8px;pointer-events:none}
        .s4-toast{padding:12px 20px;border-radius:3px;background:var(--bg-primary,#1d1d1f);border:1px solid var(--border-primary,#333);box-shadow:0 4px 16px rgba(0,0,0,0.3);color:var(--text-primary,#f5f5f7);font-size:13px;pointer-events:auto;transform:translateX(120%);transition:transform .3s ease;display:flex;align-items:center;gap:10px;max-width:400px}
        .s4-toast.show{transform:translateX(0)}
        .s4-toast.success{border-left:3px solid #34c759}
        .s4-toast.error{border-left:3px solid #ff3b30}
        .s4-toast.info{border-left:3px solid #00aaff}
        .s4-toast.warning{border-left:3px solid #ff9500}

        /* Dashboard Widget Cards */
        .s4-widget-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:16px;padding:16px}
        .s4-widget{background:var(--bg-primary,#1d1d1f);border:1px solid var(--border-primary,#333);border-radius:3px;padding:20px;transition:border-color .2s,box-shadow .2s}
        .s4-widget:hover{border-color:rgba(0,170,255,0.3);box-shadow:0 4px 16px rgba(0,0,0,0.2)}
        .s4-widget h4{margin:0 0 12px;font-size:13px;font-weight:600;color:var(--text-secondary,#86868b);text-transform:uppercase;letter-spacing:0.5px}
        .s4-widget .widget-value{font-size:28px;font-weight:700;color:var(--text-primary,#f5f5f7);margin:0 0 4px}
        .s4-widget .widget-change{font-size:12px}
        .s4-widget .widget-change.positive{color:#00aaff}
        .s4-widget .widget-change.negative{color:#c9a84c}

        /* Mobile Responsive Enhancements */
        @media (max-width: 768px) {
            .s4-command-palette{width:95vw;top:5%}
            .s4-tour-tooltip{max-width:280px;padding:16px}
            .s4-widget-grid{grid-template-columns:1fr}
            .s4-breadcrumbs{flex-wrap:wrap;font-size:11px}
            .s4-favorites-bar{gap:4px}
            .s4-fav-chip{font-size:10px;padding:3px 8px}
            .sidebar{width:100%!important;position:fixed;z-index:500;transform:translateX(-100%);transition:transform .3s}
            .sidebar.mobile-open{transform:translateX(0)}
            .main-content{margin-left:0!important}
            .s4-mobile-toggle{display:block!important;position:fixed;bottom:20px;left:20px;z-index:501;width:48px;height:48px;border-radius:50%;background:#00aaff;color:#000;border:none;font-size:20px;cursor:pointer;box-shadow:0 4px 16px rgba(0,170,255,0.4)}
        }
        .s4-mobile-toggle{display:none}

        /* Light Mode UX Override Additions */
        [data-theme="light"] .s4-tour-tooltip{background:#fff;border-color:#d2d2d7;color:#1d1d1f;box-shadow:0 8px 32px rgba(0,0,0,0.12)}
        [data-theme="light"] .s4-command-palette{background:#fff;border-color:#d2d2d7;box-shadow:0 16px 64px rgba(0,0,0,0.15)}
        [data-theme="light"] .s4-command-palette input{color:#1d1d1f;border-bottom-color:#d2d2d7}
        [data-theme="light"] .s4-command-palette input::placeholder{color:rgba(0,0,0,0.3)}
        [data-theme="light"] .s4-command-item{color:#1d1d1f}
        [data-theme="light"] .s4-toast{background:#fff;border-color:#d2d2d7;color:#1d1d1f}
        [data-theme="light"] .s4-widget{background:#fff;border-color:#d2d2d7}
        [data-theme="light"] .s4-widget:hover{border-color:rgba(0,170,255,0.4);box-shadow:0 4px 16px rgba(0,0,0,0.08)}
        [data-theme="light"] .s4-breadcrumbs{background:rgba(255,255,255,0.8);border-bottom-color:#d2d2d7}
        [data-theme="light"] .s4-activity-item{border-bottom-color:rgba(0,0,0,0.06)}
        [data-theme="light"] .s4-favorites-bar{background:rgba(245,245,247,0.5);border-bottom-color:#d2d2d7}

        /* ── Light-mode Chart.js & Diagram Visibility ── */
        [data-theme="light"] canvas{background:rgba(255,255,255,0.95);border-radius:3px}
        [data-theme="light"] .chart-container,[data-theme="light"] [id*="Chart"]{background:#fff;border-radius:3px;padding:4px}
        [data-theme="light"] .tool-panel table,[data-theme="light"] .tool-panel table th,[data-theme="light"] .tool-panel table td{color:#1d1d1f;border-color:rgba(0,0,0,0.12)}
        [data-theme="light"] .tool-panel table th{background:rgba(0,170,255,0.06);color:#1a1a2e}
        [data-theme="light"] .tool-panel table td{background:#fff}
        [data-theme="light"] .tool-panel .form-control,[data-theme="light"] .tool-panel .form-select,[data-theme="light"] .tool-panel select,[data-theme="light"] .tool-panel input[type="text"],[data-theme="light"] .tool-panel input[type="number"],[data-theme="light"] .tool-panel textarea{background:#fff !important;color:#1d1d1f !important;border-color:rgba(0,0,0,0.15) !important}
        [data-theme="light"] .tool-panel{color:#1d1d1f}
        [data-theme="light"] .tool-panel h3,[data-theme="light"] .tool-panel h4,[data-theme="light"] .tool-panel strong{color:#1a1a2e}
        [data-theme="light"] .tool-panel p,[data-theme="light"] .tool-panel span,[data-theme="light"] .tool-panel label,[data-theme="light"] .tool-panel li{color:#333}
        [data-theme="light"] .tool-panel .card,[data-theme="light"] .tool-panel [style*="background:#0a0e1a"],[data-theme="light"] .tool-panel [style*="background:var(--surface)"]{background:#fff !important;border-color:rgba(0,0,0,0.1) !important}

/* ═══ How It Works Modal ═══ */
.hiw-modal-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.7);z-index:10001;display:flex;align-items:center;justify-content:center;backdrop-filter:blur(6px);-webkit-backdrop-filter:blur(6px);animation:fadeIn .25s ease}
.hiw-modal-box{background:var(--card,#0d1117);border:1px solid var(--border,rgba(255,255,255,0.08));border-radius:6px;padding:28px 32px;max-width:560px;width:92%;max-height:80vh;overflow-y:auto;box-shadow:0 16px 48px rgba(0,0,0,0.5);position:relative}
.hiw-modal-box h4{color:#00aaff;font-size:1rem;font-weight:700;margin:0 0 14px}
.hiw-modal-box .hiw-body{color:var(--steel,#8a94a6);font-size:0.85rem;line-height:1.7}
.hiw-modal-box .hiw-body ol,.hiw-modal-box .hiw-body ul{padding-left:20px;margin:8px 0}
.hiw-modal-box .hiw-body li{margin-bottom:6px}
.hiw-close{position:absolute;top:12px;right:14px;background:none;border:none;color:var(--steel,#8a94a6);font-size:1.3rem;cursor:pointer;padding:4px 8px;line-height:1}
.hiw-close:hover{color:#fff}

