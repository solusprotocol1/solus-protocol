<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="S4 Ledger â€” Defense Logistics Verification Demo. Anchor, verify, and track defense supply chain records on XRPL.">
    <meta property="og:title" content="S4 Ledger | Defense Logistics Demo">
    <meta property="og:description" content="Interactive demo for anchoring and verifying defense logistics records on the XRP Ledger using $SLS token.">
    <title>S4 Ledger | Defense Logistics Demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg: #050810;
            --surface: #0a1020;
            --card: #0f1630;
            --border: #1a2550;
            --accent: #00aaff;
            --gold: #c9a84c;
            --steel: #8ea4b8;
            --green: #14f195;
            --red: #ff6b6b;
            --text: #e0e8f0;
            --muted: #6b7d93;
        }
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body {
            font-family: 'Plus Jakarta Sans', sans-serif;
            background: var(--bg);
            color: var(--text);
            min-height: 100vh;
        }
        /* â”€â”€â”€ Navbar â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .navbar-custom {
            background: rgba(5,8,16,0.95);
            backdrop-filter: blur(12px);
            border-bottom: 1px solid var(--border);
            padding: 0.75rem 0;
        }
        .navbar-brand {
            font-weight: 800;
            font-size: 1.4rem;
            color: var(--accent) !important;
        }
        .navbar-brand span { color: var(--gold); }
        .nav-link { color: var(--steel) !important; font-weight: 500; transition: color 0.2s; }
        .nav-link:hover, .nav-link.active { color: var(--accent) !important; }

        /* â”€â”€â”€ Hero â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .hero {
            padding: 4rem 0 3rem;
            text-align: center;
            background: linear-gradient(180deg, rgba(0,170,255,0.05) 0%, transparent 60%);
        }
        .hero h1 { font-size: 2.4rem; font-weight: 800; margin-bottom: 0.75rem; }
        .hero h1 .accent { color: var(--accent); }
        .hero h1 .gold { color: var(--gold); }
        .hero p { color: var(--steel); font-size: 1.1rem; max-width: 700px; margin: 0 auto 1.5rem; }
        .badge-live {
            display: inline-flex; align-items: center; gap: 6px;
            background: rgba(20,241,149,0.1); border: 1px solid rgba(20,241,149,0.3);
            color: var(--green); padding: 6px 16px; border-radius: 20px;
            font-size: 0.85rem; font-weight: 600;
        }
        .badge-live::before { content: ''; width: 8px; height: 8px; background: var(--green); border-radius: 50%; animation: pulse 2s infinite; }
        @keyframes pulse { 0%,100% { opacity: 1; } 50% { opacity: 0.4; } }

        /* â”€â”€â”€ Tabs â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .tab-section { padding: 2rem 0; }
        .nav-pills .nav-link {
            background: var(--card); color: var(--steel); border: 1px solid var(--border);
            margin-right: 0.5rem; margin-bottom: 0.5rem; border-radius: 8px;
            font-weight: 600; padding: 0.6rem 1.2rem; transition: all 0.2s;
        }
        .nav-pills .nav-link.active {
            background: var(--accent); color: #fff; border-color: var(--accent);
        }
        .tab-content { margin-top: 1.5rem; }

        /* â”€â”€â”€ Cards â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .demo-card {
            background: var(--card); border: 1px solid var(--border);
            border-radius: 12px; padding: 1.5rem; margin-bottom: 1.5rem;
        }
        .demo-card h3 { font-size: 1.1rem; font-weight: 700; color: var(--accent); margin-bottom: 1rem; }
        .demo-card h3 i { margin-right: 0.5rem; }

        /* â”€â”€â”€ Forms â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        label { font-weight: 600; color: var(--steel); margin-bottom: 0.4rem; font-size: 0.9rem; }
        select, input, textarea {
            background: var(--surface) !important; color: var(--text) !important;
            border: 1px solid var(--border) !important; border-radius: 8px !important;
            padding: 0.6rem 0.8rem !important; font-family: 'Plus Jakarta Sans', sans-serif !important;
            font-size: 0.95rem !important; width: 100%;
        }
        select:focus, input:focus, textarea:focus {
            border-color: var(--accent) !important; box-shadow: 0 0 0 3px rgba(0,170,255,0.15) !important; outline: none;
        }
        textarea { min-height: 120px; resize: vertical; font-family: 'Courier New', monospace !important; font-size: 0.85rem !important; }

        /* â”€â”€â”€ Buttons â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .btn-accent {
            background: var(--accent); color: #fff; border: none; border-radius: 8px;
            padding: 0.65rem 1.5rem; font-weight: 700; font-size: 0.95rem;
            transition: all 0.2s; cursor: pointer;
        }
        .btn-accent:hover { background: #0099ee; transform: translateY(-1px); color: #fff; }
        .btn-accent:disabled { opacity: 0.5; cursor: not-allowed; transform: none; }
        .btn-gold {
            background: var(--gold); color: #000; border: none; border-radius: 8px;
            padding: 0.65rem 1.5rem; font-weight: 700; font-size: 0.95rem; cursor: pointer;
        }
        .btn-gold:hover { background: #dbb85c; color: #000; }
        .btn-outline-accent {
            background: transparent; color: var(--accent); border: 1px solid var(--accent);
            border-radius: 8px; padding: 0.5rem 1rem; font-weight: 600; cursor: pointer;
        }
        .btn-outline-accent:hover { background: rgba(0,170,255,0.1); color: var(--accent); }

        /* â”€â”€â”€ Result Panel â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .result-panel {
            background: var(--surface); border: 1px solid var(--border);
            border-radius: 10px; padding: 1.2rem; margin-top: 1rem;
            display: none; font-family: 'Courier New', monospace; font-size: 0.85rem;
        }
        .result-panel.show { display: block; animation: fadeIn 0.3s ease; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(8px); } to { opacity: 1; transform: translateY(0); } }
        .result-label { color: var(--muted); font-size: 0.75rem; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 0.3rem; }
        .result-value { color: var(--green); word-break: break-all; }
        .result-value.error { color: var(--red); }
        .hash-display {
            background: rgba(0,170,255,0.08); border: 1px solid rgba(0,170,255,0.2);
            border-radius: 6px; padding: 0.6rem; word-break: break-all;
            color: var(--accent); margin: 0.5rem 0;
        }

        /* â”€â”€â”€ Record Type Grid â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .record-type-grid {
            display: grid; grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
            gap: 0.75rem; margin-bottom: 1rem;
        }
        .record-type-btn {
            background: var(--surface); border: 1px solid var(--border);
            border-radius: 8px; padding: 0.7rem 0.8rem; cursor: pointer;
            text-align: center; transition: all 0.2s; font-size: 0.8rem; font-weight: 600;
        }
        .record-type-btn:hover { border-color: var(--accent); background: rgba(0,170,255,0.05); }
        .record-type-btn.selected { border-color: var(--accent); background: rgba(0,170,255,0.12); color: var(--accent); }
        .record-type-btn .icon { font-size: 1.3rem; display: block; margin-bottom: 0.3rem; }

        /* â”€â”€â”€ Transaction Log â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .tx-log { max-height: 400px; overflow-y: auto; }
        .tx-entry {
            background: var(--surface); border: 1px solid var(--border);
            border-radius: 8px; padding: 0.8rem 1rem; margin-bottom: 0.5rem;
            display: flex; align-items: center; gap: 1rem; transition: all 0.2s;
        }
        .tx-entry:hover { border-color: var(--accent); }
        .tx-icon { font-size: 1.4rem; min-width: 36px; text-align: center; }
        .tx-info { flex: 1; }
        .tx-type { font-weight: 700; font-size: 0.9rem; }
        .tx-hash { font-family: monospace; color: var(--muted); font-size: 0.75rem; }
        .tx-time { color: var(--muted); font-size: 0.75rem; white-space: nowrap; }
        .tx-badge {
            font-size: 0.7rem; font-weight: 700; padding: 2px 8px; border-radius: 4px;
        }
        .tx-badge.anchored { background: rgba(20,241,149,0.15); color: var(--green); }
        .tx-badge.pending { background: rgba(255,204,68,0.15); color: #ffcc44; }

        /* â”€â”€â”€ Stats Cards â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .stat-card {
            background: var(--card); border: 1px solid var(--border);
            border-radius: 10px; padding: 1.2rem; text-align: center;
        }
        .stat-value { font-size: 2rem; font-weight: 800; color: var(--accent); }
        .stat-label { font-size: 0.8rem; color: var(--muted); text-transform: uppercase; letter-spacing: 1px; }

        /* â”€â”€â”€ Footer â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        footer {
            border-top: 1px solid var(--border); padding: 2rem 0; margin-top: 3rem;
            text-align: center; color: var(--muted); font-size: 0.85rem;
        }
        footer a { color: var(--accent); text-decoration: none; }

        /* â”€â”€â”€ Sample Records â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .sample-btn {
            background: var(--surface); border: 1px solid var(--border);
            border-radius: 6px; padding: 0.4rem 0.8rem; cursor: pointer;
            font-size: 0.8rem; color: var(--steel); transition: all 0.2s;
            display: inline-block; margin: 0.2rem;
        }
        .sample-btn:hover { border-color: var(--gold); color: var(--gold); }

        /* â”€â”€â”€ Responsive â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        @media (max-width: 768px) {
            .hero h1 { font-size: 1.6rem; }
            .record-type-grid { grid-template-columns: repeat(2, 1fr); }
        }

        /* â”€â”€â”€ Scrollbar â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: var(--bg); }
        ::-webkit-scrollbar-thumb { background: var(--border); border-radius: 3px; }
    </style>
</head>
<body>

<!-- Navbar -->
<nav class="navbar navbar-expand-lg navbar-custom sticky-top">
    <div class="container">
        <a class="navbar-brand" href="https://s4ledger.com"><i class="fas fa-shield-halved" style="margin-right:6px"></i>S4 <span>Ledger</span></a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" style="border-color:var(--border)">
            <span class="navbar-toggler-icon" style="filter:invert(0.8)"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav ms-auto">
                <li class="nav-item"><a class="nav-link" href="https://s4ledger.com">Home</a></li>
                <li class="nav-item"><a class="nav-link" href="https://s4ledger.com/s4-use-cases/">Use Cases</a></li>
                <li class="nav-item"><a class="nav-link active" href="#">Demo</a></li>
                <li class="nav-item"><a class="nav-link" href="https://github.com/s4ledger/s4-ledger" target="_blank"><i class="fab fa-github"></i> GitHub</a></li>
            </ul>
        </div>
    </div>
</nav>

<!-- Hero -->
<section class="hero">
    <div class="container">
        <h1><span class="accent">Defense Logistics</span> <span class="gold">Verification Demo</span></h1>
        <p>Anchor, verify, and track defense supply chain records on the XRP Ledger. Interactive sandbox â€” try it now.</p>
        <div class="badge-live">XRPL Testnet Connected</div>
    </div>
</section>

<!-- Main Content -->
<section class="tab-section">
    <div class="container">
        <!-- Stats Row -->
        <div class="row mb-4" id="statsRow">
            <div class="col-6 col-md-3 mb-3">
                <div class="stat-card">
                    <div class="stat-value" id="statAnchored">0</div>
                    <div class="stat-label">Records Anchored</div>
                </div>
            </div>
            <div class="col-6 col-md-3 mb-3">
                <div class="stat-card">
                    <div class="stat-value" id="statVerified">0</div>
                    <div class="stat-label">Records Verified</div>
                </div>
            </div>
            <div class="col-6 col-md-3 mb-3">
                <div class="stat-card">
                    <div class="stat-value" id="statTypes">0</div>
                    <div class="stat-label">Record Types Used</div>
                </div>
            </div>
            <div class="col-6 col-md-3 mb-3">
                <div class="stat-card">
                    <div class="stat-value" id="statSlsFees">0.000</div>
                    <div class="stat-label">$SLS Fees (simulated)</div>
                </div>
            </div>
        </div>

        <!-- Tab Navigation -->
        <ul class="nav nav-pills mb-2" role="tablist">
            <li class="nav-item"><a class="nav-link active" data-bs-toggle="pill" href="#tabAnchor" role="tab"><i class="fas fa-anchor"></i> Anchor</a></li>
            <li class="nav-item"><a class="nav-link" data-bs-toggle="pill" href="#tabVerify" role="tab"><i class="fas fa-check-circle"></i> Verify</a></li>
            <li class="nav-item"><a class="nav-link" data-bs-toggle="pill" href="#tabLog" role="tab"><i class="fas fa-list"></i> Transaction Log</a></li>
            <li class="nav-item"><a class="nav-link" data-bs-toggle="pill" href="#tabAbout" role="tab"><i class="fas fa-info-circle"></i> How It Works</a></li>
        </ul>

        <div class="tab-content">
            <!-- â”€â”€â”€ Anchor Tab â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
            <div class="tab-pane fade show active" id="tabAnchor" role="tabpanel">
                <div class="row">
                    <div class="col-lg-7">
                        <div class="demo-card">
                            <h3><i class="fas fa-anchor"></i> Anchor a Defense Record</h3>

                            <label>1. Select Record Type</label>
                            <div class="record-type-grid" id="recordTypeGrid">
                                <div class="record-type-btn selected" data-type="SUPPLY_CHAIN" onclick="selectType(this)">
                                    <span class="icon">ğŸ“¦</span>Supply Chain
                                </div>
                                <div class="record-type-btn" data-type="MAINTENANCE_3M" onclick="selectType(this)">
                                    <span class="icon">ğŸ”§</span>Maintenance 3-M
                                </div>
                                <div class="record-type-btn" data-type="CDRL" onclick="selectType(this)">
                                    <span class="icon">ğŸ“„</span>CDRL Delivery
                                </div>
                                <div class="record-type-btn" data-type="ORDNANCE_LOT" onclick="selectType(this)">
                                    <span class="icon">ğŸ’£</span>Ordnance Lot
                                </div>
                                <div class="record-type-btn" data-type="CONFIG_BASELINE" onclick="selectType(this)">
                                    <span class="icon">âš™ï¸</span>Config Baseline
                                </div>
                                <div class="record-type-btn" data-type="CUSTODY_TRANSFER" onclick="selectType(this)">
                                    <span class="icon">ğŸ”„</span>Custody Transfer
                                </div>
                                <div class="record-type-btn" data-type="DEPOT_REPAIR" onclick="selectType(this)">
                                    <span class="icon">ğŸ­</span>Depot Repair
                                </div>
                                <div class="record-type-btn" data-type="INSPECTION" onclick="selectType(this)">
                                    <span class="icon">ğŸ”</span>Inspection
                                </div>
                                <div class="record-type-btn" data-type="CALIBRATION" onclick="selectType(this)">
                                    <span class="icon">ğŸ“</span>Calibration
                                </div>
                                <div class="record-type-btn" data-type="CONTRACT" onclick="selectType(this)">
                                    <span class="icon">ğŸ“</span>Contract CLIN
                                </div>
                                <div class="record-type-btn" data-type="CASREP" onclick="selectType(this)">
                                    <span class="icon">âš ï¸</span>CASREP
                                </div>
                                <div class="record-type-btn" data-type="TRAINING" onclick="selectType(this)">
                                    <span class="icon">ğŸ“</span>Training Record
                                </div>
                            </div>

                            <label>2. Enter Record Content</label>
                            <textarea id="recordInput" placeholder="Paste or type your defense logistics record here..."></textarea>

                            <div class="mt-2 mb-3">
                                <span style="color:var(--muted);font-size:0.8rem">Try a sample:</span>
                                <span class="sample-btn" onclick="loadSample('supply')">Supply Receipt</span>
                                <span class="sample-btn" onclick="loadSample('maintenance')">Maintenance 3-M</span>
                                <span class="sample-btn" onclick="loadSample('cdrl')">CDRL</span>
                                <span class="sample-btn" onclick="loadSample('ordnance')">Ordnance Lot</span>
                                <span class="sample-btn" onclick="loadSample('casrep')">CASREP</span>
                                <span class="sample-btn" onclick="loadSample('custody')">Custody Transfer</span>
                            </div>

                            <div class="d-flex gap-2 align-items-center">
                                <label class="form-check-label" style="font-size:0.85rem">
                                    <input type="checkbox" id="encryptCheck" checked style="width:auto !important;margin-right:6px">
                                    Encrypt before hashing (CUI protection)
                                </label>
                            </div>

                            <button class="btn-accent mt-3" onclick="anchorRecord()" id="anchorBtn">
                                <i class="fas fa-anchor"></i> Anchor to XRPL
                            </button>

                            <div class="result-panel" id="anchorResult"></div>
                        </div>
                    </div>

                    <div class="col-lg-5">
                        <div class="demo-card">
                            <h3><i class="fas fa-diagram-project"></i> Anchor Flow</h3>
                            <div style="font-size:0.9rem; line-height:2;">
                                <div><span style="color:var(--accent);font-weight:700">1.</span> Select record type & enter content</div>
                                <div><span style="color:var(--accent);font-weight:700">2.</span> Optional: encrypt for CUI protection</div>
                                <div><span style="color:var(--accent);font-weight:700">3.</span> SHA-256 hash computed client-side</div>
                                <div><span style="color:var(--accent);font-weight:700">4.</span> Hash stored in XRPL memo field</div>
                                <div><span style="color:var(--accent);font-weight:700">5.</span> $SLS micro-fee (0.01) paid to treasury</div>
                                <div><span style="color:var(--accent);font-weight:700">6.</span> Immutable proof-of-existence created âœ“</div>
                            </div>
                        </div>
                        <div class="demo-card">
                            <h3><i class="fas fa-shield-halved"></i> What Gets Stored On-Chain</h3>
                            <p style="font-size:0.85rem; color:var(--steel)">
                                <strong>Only the SHA-256 hash</strong> of your record is stored on the XRP Ledger. 
                                No classified data, CUI, ITAR-controlled, or sensitive content ever touches the blockchain.
                                The original record stays in your system â€” the hash acts as an immutable fingerprint for verification.
                            </p>
                            <div style="font-size:0.8rem; margin-top:0.5rem;">
                                <span style="color:var(--green)">âœ“</span> NIST SP 800-171 compatible<br>
                                <span style="color:var(--green)">âœ“</span> CMMC Level 2 aligned<br>
                                <span style="color:var(--green)">âœ“</span> DFARS 252.204-7012 compliant<br>
                                <span style="color:var(--green)">âœ“</span> No PII/CUI on-chain
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- â”€â”€â”€ Verify Tab â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
            <div class="tab-pane fade" id="tabVerify" role="tabpanel">
                <div class="row">
                    <div class="col-lg-7">
                        <div class="demo-card">
                            <h3><i class="fas fa-check-circle"></i> Verify a Defense Record</h3>
                            <p style="color:var(--steel);font-size:0.9rem;margin-bottom:1rem;">
                                Paste the original record content to verify its hash matches what was anchored on XRPL.
                            </p>

                            <label>Record Content</label>
                            <textarea id="verifyInput" placeholder="Paste the original defense record content here..."></textarea>

                            <label class="mt-2">Expected Hash (optional)</label>
                            <input type="text" id="verifyHash" placeholder="SHA-256 hash to compare against">

                            <button class="btn-gold mt-3" onclick="verifyRecord()">
                                <i class="fas fa-check-circle"></i> Verify Integrity
                            </button>

                            <div class="result-panel" id="verifyResult"></div>
                        </div>
                    </div>
                    <div class="col-lg-5">
                        <div class="demo-card">
                            <h3><i class="fas fa-question-circle"></i> Verification Use Cases</h3>
                            <div style="font-size:0.85rem; line-height:1.8; color:var(--steel);">
                                <div><strong>Supply Chain:</strong> Confirm parts receipt record hasn't been altered</div>
                                <div><strong>CDRL:</strong> Verify contractor delivered the exact document version</div>
                                <div><strong>Maintenance:</strong> Prove 3-M actions were logged as-performed</div>
                                <div><strong>Ordnance:</strong> Validate lot tracking since manufacture</div>
                                <div><strong>Config:</strong> Confirm system baseline hasn't drifted</div>
                                <div><strong>Audit:</strong> Demonstrate tamper-proof record trail to inspectors</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- â”€â”€â”€ Transaction Log Tab â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
            <div class="tab-pane fade" id="tabLog" role="tabpanel">
                <div class="demo-card">
                    <h3><i class="fas fa-list"></i> Transaction Log</h3>
                    <p style="color:var(--steel);font-size:0.9rem;">All records anchored in this session.</p>
                    <div class="tx-log" id="txLog">
                        <div style="color:var(--muted);text-align:center;padding:2rem;">
                            No records anchored yet. Go to the <strong>Anchor</strong> tab to start.
                        </div>
                    </div>
                </div>
            </div>

            <!-- â”€â”€â”€ About Tab â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
            <div class="tab-pane fade" id="tabAbout" role="tabpanel">
                <div class="row">
                    <div class="col-lg-6">
                        <div class="demo-card">
                            <h3><i class="fas fa-cogs"></i> How S4 Ledger Works</h3>
                            <div style="font-size:0.9rem; line-height:1.9; color:var(--steel);">
                                <p>S4 Ledger creates <strong>tamper-proof records</strong> for defense logistics by anchoring SHA-256 hashes to the XRP Ledger.</p>
                                <p><strong>The process:</strong></p>
                                <ol>
                                    <li>A defense record (supply receipt, maintenance action, CDRL, etc.) is created in your existing system</li>
                                    <li>S4 Ledger computes a SHA-256 hash of that record</li>
                                    <li>Only the hash is written to an XRPL transaction memo</li>
                                    <li>A micro-fee of 0.01 $SLS is paid for each anchor</li>
                                    <li>Anyone with the original record can verify it hasn't been altered</li>
                                </ol>
                                <p><strong>No sensitive data on-chain.</strong> The blockchain only sees a 64-character hash â€” a mathematical fingerprint that can't be reversed.</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-6">
                        <div class="demo-card">
                            <h3><i class="fas fa-shield-halved"></i> Defense Record Types</h3>
                            <table style="width:100%;font-size:0.85rem;">
                                <tr style="color:var(--muted);border-bottom:1px solid var(--border)">
                                    <th style="padding:0.4rem 0;">Type</th><th>Description</th><th>DoD System</th>
                                </tr>
                                <tr><td style="padding:0.3rem 0;">ğŸ“¦ Supply Chain</td><td>Material receipt & acceptance</td><td style="color:var(--muted)">NAVSUP/DLA</td></tr>
                                <tr><td>ğŸ”§ Maintenance</td><td>PMS / 3-M action records</td><td style="color:var(--muted)">SKED/OARS</td></tr>
                                <tr><td>ğŸ“„ CDRL</td><td>Contractor data deliveries</td><td style="color:var(--muted)">CDMD-OA</td></tr>
                                <tr><td>ğŸ’£ Ordnance</td><td>Ammunition lot tracking</td><td style="color:var(--muted)">AESIP</td></tr>
                                <tr><td>âš™ï¸ Config</td><td>System configuration baselines</td><td style="color:var(--muted)">CDMD-OA</td></tr>
                                <tr><td>ğŸ”„ Custody</td><td>Equipment chain of custody</td><td style="color:var(--muted)">DPAS/ERP</td></tr>
                                <tr><td>ğŸ­ Depot</td><td>Overhaul/repair records</td><td style="color:var(--muted)">FRC/CNRMF</td></tr>
                                <tr><td>ğŸ” Inspection</td><td>INSURV/QA inspections</td><td style="color:var(--muted)">NRCC</td></tr>
                                <tr><td>ğŸ“ Calibration</td><td>TMDE certification</td><td style="color:var(--muted)">METCAL</td></tr>
                                <tr><td>âš ï¸ CASREP</td><td>Casualty reports</td><td style="color:var(--muted)">TYCOM</td></tr>
                            </table>
                        </div>
                        <div class="demo-card">
                            <h3><i class="fas fa-coins"></i> $SLS Token</h3>
                            <div style="font-size:0.85rem; color:var(--steel);">
                                <div><strong>Token:</strong> $SLS on XRP Ledger</div>
                                <div><strong>Total Supply:</strong> 100,000,000</div>
                                <div><strong>Anchor Fee:</strong> 0.01 $SLS per record</div>
                                <div><strong>Issuer:</strong> r95GyZac...HsTA5</div>
                                <div><strong>Treasury:</strong> rMLmkrxp...1KLqJ (30M tokens)</div>
                                <div style="margin-top:0.5rem;">Each anchor consumes a micro-fee, creating sustainable utility demand for the token.</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Footer -->
<footer>
    <div class="container">
        <p><strong>S4 Ledger</strong> â€” Immutable Logistics Verification for the Defense Industry</p>
        <p style="margin-top:0.5rem;">
            <a href="https://s4ledger.com">s4ledger.com</a> &nbsp;|&nbsp;
            <a href="https://github.com/s4ledger/s4-ledger" target="_blank">GitHub</a> &nbsp;|&nbsp;
            <a href="https://x.com/S4_Ledger" target="_blank">X/Twitter</a>
        </p>
        <p style="margin-top:0.5rem;font-size:0.8rem;">&copy; 2026 S4 Systems, LLC. Demo uses XRPL Testnet â€” no real funds or classified data involved.</p>
    </div>
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script>
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  S4 LEDGER â€” DEFENSE LOGISTICS DEMO ENGINE
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

const RECORD_ICONS = {
    SUPPLY_CHAIN:'ğŸ“¦', MAINTENANCE_3M:'ğŸ”§', CDRL:'ğŸ“„', ORDNANCE_LOT:'ğŸ’£',
    CONFIG_BASELINE:'âš™ï¸', CUSTODY_TRANSFER:'ğŸ”„', DEPOT_REPAIR:'ğŸ­',
    INSPECTION:'ğŸ”', CALIBRATION:'ğŸ“', CONTRACT:'ğŸ“', CASREP:'âš ï¸', TRAINING:'ğŸ“',
};

const SAMPLES = {
    supply: { type: 'SUPPLY_CHAIN', text: `Supply Chain Receipt\nNSN: 5340-01-234-5678\nNomenclature: Valve, Gate, Carbon Steel\nContract: N00024-23-C-5501\nCAGE Code: 1THK9\nQuantity Received: 50 EA\nCondition Code: A (Serviceable)\nInspection: FAT Pass â€” Zero defects\nReceiving Depot: Norfolk Naval Shipyard (NNSY)\nInspector: QA-237 J. Martinez\nDate: 2026-02-10\nCoC: CoC-NNSY-2026-0451` },
    maintenance: { type: 'MAINTENANCE_3M', text: `Maintenance 3-M Action\nMRC: 2815-1.3.7\nEquipment: LM2500 Gas Turbine Engine\nHull Number: DDG-118\nAction: Oil sample analysis\nResults: Normal wear metals â€” Fe: 12ppm, Cu: 3ppm, Al: 2ppm\nTechnician: MM2(SW) Garcia\nVerified By: MMCS(SW) Thompson\nNext Due: 2026-08-10\nSKED Status: Current` },
    cdrl: { type: 'CDRL', text: `CDRL Delivery Record\nCDRL: A003\nTitle: Technical Manual Update Rev 4.2\nContract: N00024-23-C-5501\nContractor: Huntington Ingalls Industries\nDeliverable: ILS Technical Manual\nFormat: S1000D XML\nPages: 847\nReview Status: Accepted by COR\nJEDMICS Vault: 2026-118-001\nDate Delivered: 2026-02-10` },
    ordnance: { type: 'ORDNANCE_LOT', text: `Ordnance Lot Tracking\nDODIC: A059 (Cartridge, 5.56mm, Ball, M855)\nLot Number: WCC-2025-1147-A\nNSN: 1305-01-299-5564\nManufacturer: Winchester (CAGE: 97173)\nQuantity: 250,000 rounds\nProof Test: PASS (MIL-C-63989D)\nStorage: Weapons Station Earle, Magazine 14\nCustodian: GMC(SW) Rodriguez\nDate Received: 2026-02-08` },
    casrep: { type: 'CASREP', text: `CASUALTY REPORT (CASREP)\nUnit: USS Porter (DDG-78)\nEquipment: AN/SPY-1D(V) Radar Transmitter Module\nSerial: SPY-TM-2019-04472\nImpact: Degraded radar coverage â€” port array intermittent\nOperational Impact: C3 reduced to C4\nEstimated Repair: 45 days (depot-level)\nParts Required: NSN 5841-01-522-3401\nReported By: LCDR Pham, CSO\nDate: 2026-02-10` },
    custody: { type: 'CUSTODY_TRANSFER', text: `Chain of Custody Transfer\nEquipment: AN/SPY-1D(V) Radar Transmitter Module\nSerial: SPY-TM-2019-04472\nNSN: 5841-01-522-3401\nFrom: ET1(SW) Cooper, DDG-78 Combat Systems\nTo: NAVSEA Det Norfolk, IMA\nReason: Depot-level repair\nCondition: F (Unserviceable, repairable)\nPackaging: MIL-STD-2073 Level A (ESD)\nSeal: Tamper-evident #TS-2026-0887\nDate: 2026-02-10` },
};

// State
let selectedType = 'SUPPLY_CHAIN';
let sessionRecords = [];
let stats = { anchored: 0, verified: 0, types: new Set(), slsFees: 0 };

// â”€â”€â”€ SHA-256 (Web Crypto API) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
async function sha256(text) {
    const data = new TextEncoder().encode(text);
    const hashBuffer = await crypto.subtle.digest('SHA-256', data);
    return Array.from(new Uint8Array(hashBuffer)).map(b => b.toString(16).padStart(2, '0')).join('');
}

// â”€â”€â”€ UI Helpers â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function selectType(el) {
    document.querySelectorAll('.record-type-btn').forEach(b => b.classList.remove('selected'));
    el.classList.add('selected');
    selectedType = el.dataset.type;
}

function loadSample(key) {
    const s = SAMPLES[key];
    if (s) {
        document.getElementById('recordInput').value = s.text;
        // Select matching type
        document.querySelectorAll('.record-type-btn').forEach(b => {
            b.classList.remove('selected');
            if (b.dataset.type === s.type) b.classList.add('selected');
        });
        selectedType = s.type;
    }
}

function updateStats() {
    document.getElementById('statAnchored').textContent = stats.anchored;
    document.getElementById('statVerified').textContent = stats.verified;
    document.getElementById('statTypes').textContent = stats.types.size;
    document.getElementById('statSlsFees').textContent = stats.slsFees.toFixed(3);
}

function formatTime() {
    return new Date().toLocaleTimeString('en-US', { hour12: false });
}

// â”€â”€â”€ Anchor â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
async function anchorRecord() {
    const input = document.getElementById('recordInput').value.trim();
    if (!input) { alert('Please enter record content.'); return; }

    const btn = document.getElementById('anchorBtn');
    btn.disabled = true;
    btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Anchoring...';

    // Simulated processing delay
    await new Promise(r => setTimeout(r, 800 + Math.random() * 1200));

    const encrypt = document.getElementById('encryptCheck').checked;
    const hash = await sha256(input);
    const mockTxHash = 'TX' + Array.from(crypto.getRandomValues(new Uint8Array(16))).map(b=>b.toString(16).padStart(2,'0')).join('').toUpperCase();

    const record = {
        type: selectedType,
        icon: RECORD_ICONS[selectedType] || 'ğŸ“‹',
        hash: hash,
        txHash: mockTxHash,
        encrypted: encrypt,
        timestamp: new Date().toISOString(),
        content: input.substring(0, 100) + (input.length > 100 ? '...' : ''),
    };
    sessionRecords.push(record);
    stats.anchored++;
    stats.types.add(selectedType);
    stats.slsFees += 0.01;
    updateStats();

    // Show result
    const panel = document.getElementById('anchorResult');
    panel.innerHTML = `
        <div class="result-label">STATUS</div>
        <div class="result-value" style="font-size:1rem;margin-bottom:0.8rem">âœ… Record anchored successfully</div>
        <div class="result-label">RECORD TYPE</div>
        <div style="margin-bottom:0.5rem">${record.icon} ${selectedType}</div>
        <div class="result-label">SHA-256 HASH</div>
        <div class="hash-display">${hash}</div>
        <div class="result-label">SIMULATED TX HASH</div>
        <div style="color:var(--muted);margin-bottom:0.5rem;word-break:break-all">${mockTxHash}</div>
        <div class="result-label">ENCRYPTED</div>
        <div style="margin-bottom:0.5rem">${encrypt ? 'ğŸ”’ Yes (CUI protected)' : 'ğŸ”“ No (plaintext hash)'}</div>
        <div class="result-label">$SLS FEE</div>
        <div>0.01 $SLS â†’ Treasury</div>
    `;
    panel.classList.add('show');

    // Update transaction log
    updateTxLog();

    btn.disabled = false;
    btn.innerHTML = '<i class="fas fa-anchor"></i> Anchor to XRPL';
}

// â”€â”€â”€ Verify â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
async function verifyRecord() {
    const input = document.getElementById('verifyInput').value.trim();
    if (!input) { alert('Please enter record content to verify.'); return; }

    const hash = await sha256(input);
    const expected = document.getElementById('verifyHash').value.trim();
    stats.verified++;
    updateStats();

    const panel = document.getElementById('verifyResult');
    let matchHtml = '';
    if (expected) {
        const match = hash.toLowerCase() === expected.toLowerCase();
        matchHtml = `
            <div class="result-label">EXPECTED HASH</div>
            <div style="color:var(--muted);word-break:break-all;margin-bottom:0.5rem">${expected}</div>
            <div class="result-label">MATCH</div>
            <div class="result-value ${match ? '' : 'error'}" style="font-size:1.1rem">
                ${match ? 'âœ… VERIFIED â€” Hashes match. Record integrity confirmed.' : 'âŒ MISMATCH â€” Record has been altered or wrong hash provided.'}
            </div>
        `;
    }

    // Check session log
    const sessionMatch = sessionRecords.find(r => r.hash === hash);
    let sessionHtml = '';
    if (sessionMatch) {
        sessionHtml = `
            <div class="result-label" style="margin-top:0.8rem">SESSION MATCH</div>
            <div style="color:var(--green)">âœ… Found in session log â€” ${sessionMatch.icon} ${sessionMatch.type} anchored at ${new Date(sessionMatch.timestamp).toLocaleTimeString()}</div>
        `;
    }

    panel.innerHTML = `
        <div class="result-label">COMPUTED SHA-256</div>
        <div class="hash-display">${hash}</div>
        ${matchHtml}
        ${sessionHtml}
        <div style="margin-top:0.8rem;font-size:0.8rem;color:var(--muted)">
            To verify against XRPL: compare this hash with the MemoData field of the anchor transaction.
        </div>
    `;
    panel.classList.add('show');
}

// â”€â”€â”€ Transaction Log â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function updateTxLog() {
    const log = document.getElementById('txLog');
    if (sessionRecords.length === 0) return;

    log.innerHTML = '';
    for (let i = sessionRecords.length - 1; i >= 0; i--) {
        const r = sessionRecords[i];
        const time = new Date(r.timestamp).toLocaleTimeString('en-US', { hour12: false });
        log.innerHTML += `
            <div class="tx-entry">
                <div class="tx-icon">${r.icon}</div>
                <div class="tx-info">
                    <div class="tx-type">${r.type}</div>
                    <div class="tx-hash">${r.hash.substring(0, 32)}...</div>
                </div>
                <div>
                    <span class="tx-badge anchored">Anchored</span>
                    <div class="tx-time">${time}</div>
                </div>
            </div>
        `;
    }
}

// Load default sample on page load
document.addEventListener('DOMContentLoaded', () => {
    loadSample('supply');
});
</script>
</body>
</html>
